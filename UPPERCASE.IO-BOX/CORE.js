global.BOX=METHOD(function(n){"use strict";var t,i={};return n.getBoxes=t=function(){return i},{run:function(n){var t=function(n){var i,o=n.split(".");return EACH(o,function(n){void 0===i?(void 0===t[n]&&(t[n]={}),i=t[n]):(void 0===i[n]&&(i[n]={}),i=i[n])}),i},o=n.split("."),r=global,u="";return t.boxName=n,t.type=BOX,i[n]=t,EACH(o,function(n,i){u+=(""===u?"":".")+n,i<o.length-1?r=void 0!==r[n]?r[n]:r[n]={}:r[n]=t}),FOR_BOX.inject(t),t}}});global.FOR_BOX=METHOD(function(n){"use strict";var t,u=[];return n.inject=t=function(n){EACH(u,function(t){t(n)})},{run:function(n){EACH(BOX.getBoxes(),function(t){n(t)}),u.push(n)}}});