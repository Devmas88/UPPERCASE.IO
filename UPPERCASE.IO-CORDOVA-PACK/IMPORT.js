global=window;global.TO_DELETE=TO_DELETE=null,global.CONFIG=CONFIG={},global.METHOD=METHOD=function(t){"use strict";var n,r,e=function(t,n){return void 0!==r?r(t,n):void 0};return e.type=METHOD,n="function"==typeof t?t(e):t,void 0!==n&&(r=n.run),e},global.CLASS=CLASS=METHOD(function(t){"use strict";var n,r=0;return t.getInstanceId=n=function(){return r+=1,r-1},{run:function(t){var r,e,i,u,o,a,E,c=function(t,r){var e={},i={};return i.type=c,i.checkIsInstanceOf=function(t){for(var n=c;void 0!==n;){if(n===t)return!0;n=n.mom}return!1},i.id=n(),t=a(e,i,t,r),E(e,i,t,r),i};return c.type=CLASS,c.innerInit=a=function(t,n,r,o){var a,E,A,f=function(t,n){EACH(n,function(n,r){void 0===t[r]?t[r]=n:CHECK_IS_DATA(t[r])===!0&&CHECK_IS_DATA(n)===!0&&f(t[r],n)})};return void 0!==u&&(void 0===r?r=u(c):CHECK_IS_DATA(r)===!0?(E=u(c),void 0!==E&&f(r,E)):(A=r,r=u(c))),void 0!==e&&(a=e(r,o),void 0!==a&&(c.mom=a,a.type===CLASS?a.innerInit(t,n,r,o):a.type.innerInit(t,n,r,o))),void 0!==i&&i(t,n,void 0===A?r:A,o),r},r="function"==typeof t?t(c):t,void 0!==r&&(e=r.preset,i=r.init,u=r.params,o=r.afterInit),c.innerAfterInit=E=function(t,n,r,e){var i=c.mom;void 0!==i&&(i.type===CLASS?i.innerAfterInit(t,n,r,e):i.type.innerAfterInit(t,n,r,e)),void 0!==o&&o(t,n,r,e)},c}}}),global.OBJECT=OBJECT=METHOD(function(t){"use strict";var n,r,e,i,u=[],o=!1;return n=function(t){var n=t.type,r={},e={};t.id=CLASS.getInstanceId(),n.innerInit(r,t,e),n.innerAfterInit(r,t,e)},r=function(t){o===!0?n(t):u.push(t)},t.removeReadyObject=e=function(t){REMOVE({array:u,value:t})},t.initObjects=i=function(){EACH(u,function(t){n(t)}),o=!0},{run:function(t){var n=CLASS(t),e={};return e.type=n,e.checkIsInstanceOf=function(t){for(var r=n;void 0!==r;){if(r===t)return!0;r=r.mom}return!1},r(e),e}}}),global.INIT_OBJECTS=INIT_OBJECTS=METHOD({run:function(){"use strict";OBJECT.initObjects()}}),global.NEXT=NEXT=METHOD({run:function(t,n){"use strict";var r,e,i;void 0===n&&(n=t,t=void 0),void 0!==t&&(CHECK_IS_ARRAY(t)!==!0?r=t:e=t),REPEAT({start:n.length-1,end:0},function(t){var u;0!==t&&void 0===i?i=n[t]():t>0?(u=i,i=n[t](u),i.next=u):(u=i,void 0===u&&(u=function(){}),i=n[t],void 0!==r?RUN(function(){var t=-1;RUN(function(n){t+=1,r>t+1?i(t,n):i(t,u)})}):void 0!==e?RUN(function(){var t=e.length,n=-1;0===t?u():RUN(function(r){n+=1,t>n+1?(e.length===t-1&&(n-=1,t-=1),i(e[n],r,n)):i(e[n],u,n)})}):i(u))})}}),global.OVERRIDE=OVERRIDE=METHOD({run:function(t,n){"use strict";void 0!==t.type&&t.type.type===CLASS&&OBJECT.removeReadyObject(t),n(t)}}),global.PARALLEL=PARALLEL=METHOD({run:function(t,n){"use strict";var r,e,i=0;void 0===n&&(n=t,t=void 0),void 0!==t&&(CHECK_IS_ARRAY(t)!==!0?r=t:e=t),void 0!==r?REPEAT(r,function(t){n[0](t,function(){i+=1,i===r&&n[1]()})}):void 0!==e?EACH(e,function(t,r){n[0](t,function(){i+=1,i===e.length&&n[1]()},r)}):RUN(function(){var t=n.length-1;EACH(n,function(r,e){t>e&&r(function(){i+=1,i===t&&n[t]()})})})}}),global.PARSE_STR=PARSE_STR=METHOD({run:function(t){"use strict";var n;try{return n=JSON.parse(t),CHECK_IS_DATA(n)===!0?UNPACK_DATA(n):n}catch(r){return void 0}}}),global.RANDOM_STR=RANDOM_STR=METHOD({run:function(t){"use strict";var n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return REPEAT(t,function(){n+=r.charAt(RANDOM({limit:r.length}))}),n}}),global.STRINGIFY=STRINGIFY=METHOD({run:function(t){"use strict";return JSON.stringify(CHECK_IS_DATA(t)===!0?PACK_DATA(t):t)}}),global.TEST=TEST=METHOD(function(){"use strict";var t=0;return{run:function(n,r){r(function(r){var e,i={};r===!0?console.log("["+n+" TEST] SUCCESS! "+t+" error(s) founded."):(i.__THROW_ERROR_$$$=function(){try{throw Error()}catch(t){return t}},e=i.__THROW_ERROR_$$$().stack,void 0!==e&&(e=e.substring(e.indexOf("__THROW_ERROR_$$$")),e=e.split("\n")[2],e=e.substring(e.indexOf("at "))),t+=1,console.log("["+n+" TEST] ERROR! "+e+" "+t+" error(s) founded."))})}}}),global.URI_MATCHER=URI_MATCHER=CLASS({init:function(t,n,r){"use strict";var e,i=CLASS({init:function(t,n,e){var i,u,o,a=e.split("/"),E={},c=function(t){var n=t.split("/");return EACH(a,function(t,r){var e=n[r];if("**"===e)return i=!0,!1;if(void 0===e)return!1;if("{"===e.charAt(0)&&"}"===e.charAt(e.length-1))E[e.substring(1,e.length-1)]=t;else if("*"!==e&&e!==t)return!1;return r===a.length-1&&r<n.length-1&&""!==n[n.length-1]?!1:void 0})===!0||i===!0};i=CHECK_IS_ARRAY(r)===!0?EACH(r,function(t){return c(t)!==!0})!==!0:c(r),n.checkIsMatched=u=function(){return i},n.getURIParams=o=function(){return E}}});n.check=e=function(t){return i(t)}}}),global.VALID=VALID=CLASS(function(t){"use strict";var n,r,e,i,u,o,a,E,c,A,f,l,v,C,_,d,s,T,S,D,H,g,R=[];return t.notEmpty=n=function(t){var n=void 0===t||t===TO_DELETE?"":String(t);return CHECK_IS_ARRAY(t)===!0||""!==n.trim()},t.regex=r=function(t){var n=t.pattern,r=String(t.value);return r===r.match(n)[0]},t.size=e=function(t){var n=t.min,r=t.max,e=String(t.value),i=e.length;return void 0===n&&(n=0),i>=n&&(void 0===r||r>=i)},t.integer=i=function(t){var r=String(t);return n(r)===!0&&r.match(/^(?:-?(?:0|[1-9][0-9]*))$/)!==TO_DELETE},t.real=u=function(t){var r=String(t);return n(r)===!0&&r.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)!==TO_DELETE},t.bool=o=function(t){var n=String(t);return"true"===n||"false"===n},t.date=a=function(t){var n=String(t),r=Date.parse(n);return isNaN(r)===!1},t.min=E=function(t){var n=t.min,r=t.value;return u(r)===!0&&r>=n},t.max=c=function(t){var n=t.max,r=t.value;return u(r)===!0&&n>=r},t.email=A=function(t){return"string"==typeof t&&n(t)===!0&&t.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)!==TO_DELETE},t.png=f=function(t){return"string"==typeof t&&n(t)===!0&&t.match(/^data:image\/png;base64,/)!==TO_DELETE},t.url=l=function(t){return"string"==typeof t&&n(t)===!0&&t.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i)!==TO_DELETE&&t.length<=2083},t.username=v=function(t){return"string"==typeof t&&n(t)===!0&&t.match(/^[_a-zA-Z0-9\-]+$/)!==TO_DELETE},t.id=C=function(t){return"string"==typeof t&&n(t)===!0&&t.match(/[0-9a-f]{24}/)!==TO_DELETE&&24===t.length},t.one=_=function(t){var n=t.value,r=t.array;return EACH(r,function(t){return n===t?!1:void 0})===!1},t.array=d=function(t){return CHECK_IS_ARRAY(t)===!0},t.data=s=function(t){return CHECK_IS_DATA(t)===!0},t.element=T=function(t){var n=t.array,r=VALID({_:t.validData});return EACH(n,function(t){return r.check({_:t}).checkHasError()===!0?!1:void 0})===!0},t.property=S=function(t){var n=t.data,r=VALID({_:t.validData});return EACH(n,function(t){return r.check({_:t}).checkHasError()===!0?!1:void 0})===!0},t.detail=D=function(t){var n=t.data,r=VALID(t.validDataSet);return r.check(n).checkHasError()!==!0},t.equal=H=function(t){var n=t.value,r=String(n),e=t.validValue,i=String(e);return r===i},t.addIgnoreAttr=g=function(t){R.push(t)},{init:function(r,e,i){var u,o,a=CLASS({init:function(r,e,u){var o,a,E=u.data,c=u.isExceptUndefined,A=!1,f={};EACH(i,function(r,e){r!==!0&&EACH(r,function(r,i){var u=E[e];if(c===!0&&void 0===u)return!1;if("notEmpty"!==i&&n(u)!==!0)return("integer"===i||"real"===i||"bool"===i||"date"===i)&&(E[e]=TO_DELETE),!0;if("one"===i){if(_({array:r,value:u})===!1)return A=!0,f[e]={type:i,array:r,value:u},!1}else if("element"===i){if(T({validData:r,array:u})===!1)return A=!0,f[e]={type:i,validData:r,array:u},!1}else if("property"===i){if(S({validData:r,data:u})===!1)return A=!0,f[e]={type:i,validData:r,data:u},!1}else if("detail"===i){if(D({validDataSet:r,data:u})===!1)return A=!0,f[e]={type:i,validDataSet:r,data:u},!1}else if("size"===i){if(t[i](COMBINE(CHECK_IS_DATA(r)===!0?[r,{value:u}]:[{min:r,max:r},{value:u}]))===!1)return A=!0,f[e]={type:i,validParams:r,value:u},!1}else if("regex"===i){if(t[i]({pattern:r,value:u})===!1)return A=!0,f[e]={type:i,validParam:r,value:u},!1}else if("min"===i){if(t[i]({min:r,value:u})===!1)return A=!0,f[e]={type:i,validParam:r,value:u},!1}else if("max"===i){if(t[i]({max:r,value:u})===!1)return A=!0,f[e]={type:i,validParam:r,value:u},!1}else if("equal"===i){if(t[i]({value:u,validValue:r})===!1)return A=!0,f[e]={type:i,validParam:r,value:u},!1}else if(r===!0&&t[i](u)===!1)return A=!0,f[e]={type:i,value:u},!1;n(u)===!0&&"string"==typeof u&&("integer"===i?E[e]=INTEGER(u):"real"===i?E[e]=REAL(u):"bool"===i?E[e]="true"===u:"date"===i?E[e]=new Date(u):"username"===i&&(E[e]=u.toLowerCase()))})}),EACH(E,function(t,n){CHECK_IS_IN({array:R,value:n})!==!0&&void 0===i[n]&&delete E[n]}),e.checkHasError=o=function(){return A},e.getErrors=a=function(){return f}}});e.check=u=function(t){return a({data:t})},e.checkExceptUndefined=o=function(t){return a({data:t,isExceptUndefined:!0})}}}}),global.CHECK_IS_ARGUMENTS=CHECK_IS_ARGUMENTS=METHOD({run:function(t){"use strict";return void 0!==t&&t!==TO_DELETE&&"object"==typeof t&&("[object Arguments]"===Object.prototype.toString.call(t)||void 0!==t.callee&&"function"==typeof t.callee)?!0:!1}}),global.CHECK_ARE_SAME=CHECK_ARE_SAME=METHOD({run:function(t){"use strict";var n=!1,r=function(t,n){return t instanceof Date==!0&&n instanceof Date==!0?t.getTime()===n.getTime():CHECK_IS_DATA(t)===!0&&CHECK_IS_DATA(n)===!0?EACH(t,function(t,e){return r(t,n[e])}):CHECK_IS_ARRAY(t)===!0&&CHECK_IS_ARRAY(n)===!0?EACH(t,function(t,e){return r(t,n[e])}):t===n};return t.length>1&&(n=REPEAT(t.length,function(n){return n<t.length-1?r(t[n],t[n+1]):r(t[n],t[0])})),n}}),global.CHECK_IS_ARRAY=CHECK_IS_ARRAY=METHOD({run:function(t){"use strict";return void 0!==t&&t!==TO_DELETE&&"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)?!0:!1}}),global.CHECK_IS_DATA=CHECK_IS_DATA=METHOD({run:function(t){"use strict";return void 0!==t&&t!==TO_DELETE&&CHECK_IS_ARGUMENTS(t)!==!0&&CHECK_IS_ARRAY(t)!==!0&&t instanceof Date!=!0&&"object"==typeof t?!0:!1}}),global.CHECK_IS_EMPTY_DATA=CHECK_IS_EMPTY_DATA=METHOD({run:function(t){"use strict";return CHECK_ARE_SAME([t,{}])}}),global.PACK_DATA=PACK_DATA=METHOD({run:function(t){"use strict";var n=COPY(t),r=[];return EACH(n,function(t,e){t instanceof Date==!0?(n[e]=INTEGER(t.getTime()),r.push(e)):CHECK_IS_DATA(t)===!0?n[e]=PACK_DATA(t):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(n,r){CHECK_IS_DATA(n)===!0&&(t[r]=PACK_DATA(n))})}),n.__DATE_ATTR_NAMES=r,n}}),global.UNPACK_DATA=UNPACK_DATA=METHOD({run:function(t){"use strict";var n=COPY(t);return void 0!==n.__DATE_ATTR_NAMES&&(EACH(n.__DATE_ATTR_NAMES,function(t){n[t]=new Date(n[t])}),delete n.__DATE_ATTR_NAMES),EACH(n,function(t,r){CHECK_IS_DATA(t)===!0?n[r]=UNPACK_DATA(t):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(n,r){CHECK_IS_DATA(n)===!0&&(t[r]=UNPACK_DATA(n))})}),n}}),global.CHECK_IS_IN=CHECK_IS_IN=METHOD({run:function(t){"use strict";var n=t.data,r=t.array,e=t.value;return void 0!==n?EACH(n,function(t){return CHECK_ARE_SAME([t,e])===!0?!1:void 0})!==!0:void 0!==r?EACH(r,function(t){return CHECK_ARE_SAME([t,e])===!0?!1:void 0})!==!0:void 0}}),global.COMBINE=COMBINE=METHOD({run:function(t){"use strict";var n,r;return t.length>0&&(n=t[0],CHECK_IS_DATA(n)===!0?(r={},EACH(t,function(t){EXTEND({origin:r,extend:t})})):CHECK_IS_ARRAY(n)===!0&&(r=[],EACH(t,function(t){EXTEND({origin:r,extend:t})}))),r}}),global.COPY=COPY=METHOD({run:function(t){"use strict";var n;return CHECK_IS_DATA(t)===!0?(n={},EXTEND({origin:n,extend:t})):CHECK_IS_ARRAY(t)===!0&&(n=[],EXTEND({origin:n,extend:t})),n}}),global.EXTEND=EXTEND=METHOD({run:function(t){"use strict";var n=t.origin,r=t.extend;return CHECK_IS_DATA(n)===!0?EACH(r,function(t,r){n[r]=t instanceof Date==!0?new Date(t.getTime()):CHECK_IS_DATA(t)===!0||CHECK_IS_ARRAY(t)===!0?COPY(t):t}):CHECK_IS_ARRAY(n)===!0&&EACH(r,function(t){n.push(t instanceof Date==!0?new Date(t.getTime()):CHECK_IS_DATA(t)===!0||CHECK_IS_ARRAY(t)===!0?COPY(t):t)}),n}}),global.FIND=FIND=METHOD({run:function(t,n){"use strict";var r,e,i,u;return void 0!==n?CHECK_IS_DATA(t)===!0?EACH(t,function(t){return n(t)===!0?(u=t,!1):void 0}):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(t){return n(t)===!0?(u=t,!1):void 0}):(r=t.data,e=t.array,i=t.value,void 0!==r&&EACH(r,function(t,n){return t===i?(u=n,!1):void 0}),void 0!==e&&EACH(e,function(t,n){return t===i?(u=n,!1):void 0})),u}}),global.REMOVE=REMOVE=METHOD({run:function(t,n){"use strict";var r,e,i,u,o;void 0!==n?CHECK_IS_DATA(t)===!0?EACH(t,function(r,e){n(r)===!0&&REMOVE({data:t,name:e})}):CHECK_IS_ARRAY(t)===!0&&EACH(t,function(r,e){n(r)===!0&&REMOVE({array:t,key:e})}):(r=t.data,e=t.array,i=t.name,u=t.key,o=t.value,void 0!==i&&delete r[i],void 0!==u&&e.splice(u,1),void 0!==o&&(void 0!==r&&EACH(r,function(t,n){t===o&&REMOVE({data:r,name:n})}),void 0!==e&&EACH(e,function(t,n){t===o&&REMOVE({array:e,key:n})})))}}),global.CALENDAR=CALENDAR=CLASS({init:function(t,n,r){"use strict";var e,i,u,o,a,E,c;void 0===r&&(r=new Date),n.getYear=e=function(){return r.getFullYear()},n.getMonth=i=function(){return r.getMonth()+1},n.getDate=u=function(){return r.getDate()},n.getDay=o=function(){return r.getDay()},n.getHour=a=function(){return r.getHours()},n.getMinute=E=function(){return r.getMinutes()},n.getSecond=c=function(){return r.getSeconds()}}}),global.DELAY=DELAY=CLASS({init:function(t,n,r,e){"use strict";var i,u;void 0===e&&(e=r,r=0),i=setTimeout(function(){e(n)},1e3*r),n.remove=u=function(){clearTimeout(i)}}}),global.INTERVAL=INTERVAL=CLASS({init:function(t,n,r,e){"use strict";var i,u;void 0===e&&(e=r,r=0),i=setInterval(function(){e(n)===!1&&u()},0===r?1:1e3*r),n.remove=u=function(){clearInterval(i)}}}),global.LOOP=LOOP=CLASS(function(){"use strict";var t,n,r=[],e=[],i=function(){void 0===n&&(t=Date.now(),n=INTERVAL(function(){var n,i,u,o,a,E=Date.now(),c=E-t;if(c>0){for(o=0;o<r.length;o+=1)if(n=r[o],void 0!==n.fps&&n.fps>0){for(void 0===n.timeSigma&&(n.timeSigma=0,n.countSigma=0),i=parseInt(n.fps/(1e3/c)*(n.timeSigma/c+1),10)-n.countSigma,void 0!==n.start&&n.start(),u=n.interval,a=0;i>a;a+=1)u();void 0!==n.end&&n.end(c),n.countSigma+=i,n.timeSigma+=c,n.timeSigma>1e3&&(n.timeSigma=void 0)}for(o=0;o<e.length;o+=1)e[o](c);t=E}}))},u=function(){r.length<=0&&e.length<=0&&(n.remove(),n=void 0)};return{init:function(t,n,o,a){var E,c,A,f,l,v,C;void 0!==a?(CHECK_IS_DATA(a)!==!0?A=a:(c=a.start,A=a.interval,f=a.end),r.push(l={fps:o,start:c,interval:A,end:f}),n.changeFPS=v=function(t){l.fps=t},n.remove=C=function(){REMOVE({array:r,value:l}),u()}):(e.push(E=o),n.remove=C=function(){REMOVE({array:e,value:E}),u()}),i()}}}),global.RAR=RAR=METHOD({run:function(t,n){"use strict";return void 0===n&&(n=t,t=void 0),n(t),n}}),global.RUN=RUN=METHOD({run:function(t){"use strict";var n=function(){return t(n)};return n()}}),global.INTEGER=INTEGER=METHOD({run:function(t){"use strict";return void 0===t?void 0:parseInt(t,10)}}),global.RANDOM=RANDOM=METHOD({run:function(t){"use strict";var n,r,e;return CHECK_IS_DATA(t)!==!0?r=t:(n=t.min,r=t.max,e=t.limit),void 0===n&&(n=0),void 0!==e&&(r=e-1),Math.floor(Math.random()*(r-n+1)+n)}}),global.REAL=REAL=METHOD({run:function(t){"use strict";return void 0===t?void 0:parseFloat(t)}}),global.EACH=EACH=METHOD({run:function(t,n){"use strict";var r,e,i;if(void 0===t)return!1;if(CHECK_IS_DATA(t)===!0){for(e in t)if(t.hasOwnProperty(e)===!0&&n(t[e],e)===!1)return!1}else if(CHECK_IS_ARRAY(t)===!0||CHECK_IS_ARGUMENTS(t)===!0)for(r=t.length,i=0;r>i;i+=1){if(n(t[i],i)===!1)return!1;t.length===r-1&&(i-=1,r-=1)}else if(void 0===n)return n=t,t=void 0,function(t){return EACH(t,n)};return!0}}),global.REPEAT=REPEAT=METHOD({run:function(t,n){"use strict";var r,e,i,u,o,a;if(CHECK_IS_DATA(t)!==!0?r=t:(e=t.start,i=t.end,u=t.limit,o=t.step),void 0===u&&void 0!==i&&(u=i+1),void 0===o&&(o=1),void 0!==r){for(a=0;a<parseInt(r,10);a+=1)if(n(a)===!1)return!1}else if(void 0!==i&&e>i){for(a=e;a>=i;a-=o)if(n(a)===!1)return!1}else for(a=e;u>a;a+=o)if(n(a)===!1)return!1;return!0}});global.BROWSER_CONFIG=BROWSER_CONFIG={host:location.hostname,port:location.port,loadingBarColor:"#007aff"},global.INFO=INFO=OBJECT({init:function(e,t){"use strict";var n,o,i,r,a;t.getLang=function(){var e=STORE("__INFO").get("lang");return void 0===e&&(e=navigator.language,e.length>2&&(e=e.substring(0,2)),e=e.toLowerCase()),e},t.changeLang=n=function(e){STORE("__INFO").save({key:"lang",value:e}),location.reload()},t.checkIsHDDisplay=o=function(){return void 0!==global.devicePixelRatio&&devicePixelRatio>1?!0:!1},t.checkIsTouchableDisplay=i=function(){return void 0!==global.ontouchstart},t.checkIsNotExistsTapDelay=r=function(){var e=a();return"Chrome"===e.name&&INTEGER(e.version)>=32?!0:!1},t.getBrowserInfo=a=function(){return{name:bowser.name,version:REAL(bowser.version)}}}}),global.LOAD=LOAD=METHOD({run:function(e,t){"use strict";var n,o,i,r,a,s,u,c,l,d,g,f;CHECK_IS_DATA(e)!==!0?n=e:(n=e.url,void 0===n&&(i=void 0===e.host?BROWSER_CONFIG.host:e.host,r=void 0===e.port?BROWSER_CONFIG.port:e.port,a=e.isSecure,s=e.uri,u=e.paramStr,n=(a===!0?"https://":"http://")+i+":"+r+"/"+s+"?"+u),o=e.isNoCache),void 0!==t&&(c=t.error),READY.readyLoad(),d=document.getElementsByTagName("script"),l=d[d.length-1],g=document.createElement("script"),g.src=(-1===n.indexOf("?")?n+"?":n+"&")+(o!==!0?void 0!==CONFIG.version?"version="+CONFIG.version:"":(new Date).getTime()),g.onload=function(){f!==!0&&(f=!0,READY.loaded())},g.onreadystatechange=function(){var e=this.readyState;f===!0||"loaded"!==e&&"complete"!==e||(f=!0,DELAY(function(){READY.loaded()}))};try{g.onerror=c}catch(E){}return DOM({el:g}).insertAfter(DOM({el:l}))}}),global.READY=READY=METHOD(function(e){"use strict";var t,n,o,i=0,r=[];return e.readyLoad=n=function(){i+=1},e.loaded=o=function(){i-=1,t===!0&&void 0!==r&&0===i&&(EACH(r,function(e){e()}),r=void 0)},global.onload=function(){t=!0,void 0!==r&&0===i&&(EACH(r,function(e){e()}),r=void 0)},{run:function(e){void 0!==r?r.push(e):e()}}}),global.SOUND=SOUND=CLASS(function(){"use strict";var e,t=global.webkitAudioContext||global.mozAudioContext||global.oAudioContext||global.msAudioContext||global.AudioContext;return void 0!==t&&(e=new t),{init:function(t,n,o){var i,r,a,s,u,c,l=o.mp3,d=o.ogg,g=o.isLoop,f=new Audio;""===f.canPlayType("audio/mpeg;")&&f.canPlayType("audio/ogg;")&&(l=d),void 0!==e?(i=new XMLHttpRequest,i.open("GET",l,!0),i.responseType="arraybuffer",i.onload=function(){e.decodeAudioData(i.response,function(t){var n=e.createGain?e.createGain():e.createGainNode();r=t,n.connect(e.destination),n.gain.value=.5,void 0!==s&&s()})},i.send(),n.play=u=function(){return s=function(){a=e.createBufferSource(),a.buffer=r,a.connect(e.destination),a.loop=g,void 0!==a.noteOn?a.noteOn(0):a.start(0),s=void 0},void 0!==r&&s(),n},n.stop=c=function(){void 0!==a&&(void 0!==a.noteOff?a.noteOff(0):a.stop(0))}):(f.src=l,g===!0&&f.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),n.play=u=function(){return f.play(),n},n.stop=c=function(){f.pause()})}}}),global.STORE=STORE=CLASS({init:function(e,t,n){"use strict";var o,i,r,a;e.genFullName=o=function(e){return n+"."+e},t.save=i=function(e){var t=e.name,n=o(t),i=e.value,r=e.isToSession;sessionStorage.setItem(n,STRINGIFY(i)),r!==!0&&localStorage.setItem(n,STRINGIFY(i))},t.get=r=function(e){var t=o(e),n=PARSE_STR(sessionStorage.getItem(t));return(void 0===n||n===TO_DELETE)&&(n=PARSE_STR(localStorage.getItem(t)),n===TO_DELETE&&(n=void 0)),n},t.remove=a=function(e){var t=o(e);sessionStorage.removeItem(t),localStorage.removeItem(t)}}}),global.CLEAR_BOTH=CLEAR_BOTH=METHOD({run:function(){"use strict";return DIV({style:{clear:"both"}})}}),global.DOM=DOM=CLASS({preset:function(){"use strict";return NODE},init:function(e,t,n){"use strict";var o,i,r,a=n.tag,s=n.__TEXT,u=n.el;void 0!==a?u="body"===a?document.body:"__STRING"===a?document.createTextNode(s):document.createElement(a):u!==document.body&&u.parentNode!==TO_DELETE&&t.setParent(DOM({el:u.parentNode})),t.getEl=o=function(){return u},e.setEl=i=function(n){u=n,e.setDom(t)},i(u),e.setAttr=r=function(e){var t=e.name,n=e.value;u.setAttribute(t,n)}}}),global.LOADING_BAR=LOADING_BAR=CLASS({init:function(e,t){"use strict";var n,o,i;n=DIV({style:{position:"fixed",left:0,top:0,height:3,backgroundColor:BROWSER_CONFIG.loadingBarColor,zIndex:999999}}).appendTo(BODY),o=DIV({style:{position:"fixed",left:0,top:0,height:3,backgroundColor:BROWSER_CONFIG.loadingBarColor,zIndex:999999}}).appendTo(BODY),ANIMATE({node:n,keyframes:KEYFRAMES({from:{width:"0%"},to:{width:"50%"}}),duration:.5}),t.done=i=function(){ANIMATE({node:o,keyframes:KEYFRAMES({from:{width:"0%"},to:{width:"100%"}}),duration:.5}),DELAY(.25,function(){n.remove(),ANIMATE({node:o,keyframes:KEYFRAMES({from:{opacity:1},to:{opacity:0}}),duration:.25},function(){o.remove()})})}}}),global.NODE=NODE=CLASS(function(){"use strict";var e=[];return{init:function(e,t){var n,o,i,r,a,s,u,c,l,d,g,f,E,v,h,m,p,T,S,A,I,y,D,C,_,O,b,N,R,L,F,w,M,H,P,B,G,k,x,V,X=[];e.setWrapperDom=l=function(e){n=e,i=e.getEl(),c=M("display"),L("show",function(){EACH(X,function(e){e.checkIsShowing()===!0&&(EVENT.fireAll({node:e,name:"show"}),EVENT.removeAll({node:e,name:"show"}))})})},e.setContentDom=d=function(e){o=e,r=e.getEl()},e.setDom=g=function(e){l(e),d(e)},t.getWrapperDom=f=function(){return n},t.getContentDom=E=function(){return o},t.getWrapperEl=v=function(){return i},t.getContentEl=h=function(){return r},m=function(e){N(e),u.getChildren().push(t),EVENT.fireAll({node:t,name:"attach"}),V()===!0&&(EVENT.fireAll({node:t,name:"show"}),EVENT.removeAll({node:t,name:"show"})),void 0!==a&&EACH(a,function(e){I(e)}),void 0!==s&&EACH(s,function(e){D(e)})},t.append=p=function(e){var n;CHECK_IS_DATA(e)===!0?e.appendTo(t):t.type===TEXTAREA?p(DOM({tag:"__STRING",__TEXT:String(e)})):(n=String(e).split("\n"),EACH(n,function(e,t){p(DOM({tag:"__STRING",__TEXT:e})),t<n.length-1&&p(BR())}))},t.appendTo=T=function(e){return e.getContentEl().appendChild(i),m(e),t},t.prepend=S=function(e){var n;CHECK_IS_DATA(e)===!0?e.prependTo(t):t.type===TEXTAREA?S(DOM({tag:"__STRING",__TEXT:String(e)})):(n=String(e).split("\n"),REPEAT({start:n.length-1,end:0},function(e){S(DOM({tag:"__STRING",__TEXT:n[e]})),e<n.length-1&&S(BR())}))},t.prependTo=A=function(e){var n=e.getContentEl();return void 0===n.childNodes[0]?n.appendChild(i):n.insertBefore(i,n.childNodes[0]),m(e),t},t.after=I=function(e){var n;i.parentNode===TO_DELETE?(void 0===a&&(a=[]),a.push(e)):CHECK_IS_DATA(e)===!0?e.insertAfter(t):"textarea"===tag?I(DOM({tag:"__STRING",__TEXT:String(e)})):(n=String(e).split("\n"),REPEAT({start:n.length-1,end:0},function(e){I(DOM({tag:"__STRING",__TEXT:n[e]})),e<n.length-1&&I(BR())}))},t.insertAfter=y=function(e){var n=e.getWrapperEl();return n.parentNode.insertBefore(i,n.nextSibling),m(e.getParent()),t},t.before=D=function(e){var n;i.parentNode===TO_DELETE?(void 0===s&&(s=[]),s.push(e)):CHECK_IS_DATA(e)===!0?e.insertBefore(t):"textarea"===tag?D(DOM({tag:"__STRING",__TEXT:String(e)})):(n=String(e).split("\n"),EACH(n,function(e,t){D(DOM({tag:"__STRING",__TEXT:e})),t<n.length-1&&D(BR())}))},t.insertBefore=C=function(e){var n=e.getWrapperEl();return n.parentNode.insertBefore(i,n),m(e.getParent()),t},t.remove=_=function(){i.parentNode!==TO_DELETE&&(O(),i.parentNode.removeChild(i),REMOVE({array:u.getChildren(),value:t}),N(void 0),EVENT.fireAll({node:t,name:"remove"}),EVENT.removeAll({node:t}),i=void 0,r=void 0)},t.empty=O=function(){EACH(X,function(e){e.remove()})},t.getParent=b=function(){return u},t.setParent=N=function(e){u=e},t.getChildren=R=function(){return X},t.on=L=function(e,n){EVENT({node:t,name:e},n)},t.off=F=function(e,n){void 0!==n?EVENT.remove({node:t,name:e},n):EVENT.removeAll({node:t,name:e})},t.addStyle=w=function(e){ADD_STYLE({node:t,style:e})},t.getStyle=M=function(e){var t,n;return void 0!==i&&(t=i.style,void 0!==t)?(n=t[e],""===n?void 0:"px"===n.substring(n.length-2)?REAL(n):n):void 0},t.getWidth=H=function(){return i.offsetWidth},t.getHeight=P=function(){return i.offsetHeight},t.getLeft=B=function(){var e=0,t=i;do e+=t.offsetLeft-(t===document.body?0:t.scrollLeft),t=t.offsetParent;while(t!==TO_DELETE);return e},t.getTop=G=function(){var e=0,t=i;do e+=t.offsetTop-(t===document.body?0:t.scrollTop),t=t.offsetParent;while(t!==TO_DELETE);return e},t.hide=k=function(){w({display:"none"})},t.show=x=function(){w({display:void 0===c?"":c}),V()===!0&&(EVENT.fireAll({node:t,name:"show"}),EVENT.removeAll({node:t,name:"show"}))},t.checkIsShowing=V=function(){return i===document.body?!0:void 0!==u&&u.checkIsShowing()===!0&&"none"!==M("display")}},afterInit:function(t,n,o,i){var r,a,s,u,c,l=e.length;void 0!==o&&(CHECK_IS_DATA(o)===!0?(r=o.tag,a=o.style,s=void 0===o.c||CHECK_IS_ARRAY(o.c)===!0?o.c:[o.c],u=o.on):void 0===i&&(i=o)),void 0!==a&&n.addStyle(a),void 0!==u&&EACH(u,function(e,t){n.on(t,e)}),void 0!==s&&EACH(s,function(e){n.append(e)}),l>0&&"__STRING"!==r&&n.appendTo(e[l-1]),void 0!==i&&(e.push(n),c=i(),void 0!==c&&CHECK_IS_DATA(c)!==!0&&n.append(c),e.pop())}}}),global.ANIMATE=ANIMATE=METHOD({run:function(e,t){"use strict";var n=e.node,o=e.keyframes,i=void 0===e.duration?.5:e.duration,r=void 0===e.timingFunction?"":e.timingFunction,a=void 0===e.delay?"":e.delay,s=void 0===e.iterationCount?"":e.iterationCount,u=void 0===e.direction?"":e.direction,c=void 0===e.playState?"":e.playState,l=o.getName()+" "+i+"s "+r+" "+a+" "+s+" "+u+" "+c;n.addStyle(o.getStartStyle()),n.addStyle({animation:l}),n.addStyle(o.getFinalStyle()),void 0===t||""!==s&&1!==s||DELAY(i,function(){t(n)})}}),global.KEYFRAMES=KEYFRAMES=CLASS({init:function(e,t,n){"use strict";var o,i,r,a,s,u,c="__KEYFRAMES_"+t.id,l="",d="";EACH(n,function(e,t){l+=t+"{",EACH(e,function(e,t){"number"==typeof e&&"zIndex"!==t&&"opacity"!==t&&(e+="px"),l+=t.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+e+";","transform"===t&&(l+="-webkit-transform:"+e+";",l+="-moz-transform:"+e+";",l+="-o-transform:"+e+";",l+="-ms-transform:"+e+";")}),l+="}","from"===t||"0%"===t?i=e:("to"===t||"100%"===t)&&(r=e)}),d+="@-webkit-keyframes "+c+"{"+l+"}",d+="@-moz-keyframes "+c+"{"+l+"}",d+="@-o-keyframes "+c+"{"+l+"}",d+="@-ms-keyframes "+c+"{"+l+"}",d+="@keyframes "+c+"{"+l+"}",o=document.createElement("style"),o.type="text/css",o.appendChild(document.createTextNode(d)),document.getElementsByTagName("head")[0].appendChild(o),t.getName=a=function(){return c},t.getStartStyle=s=function(){return i},t.getFinalStyle=u=function(){return r}}}),global.E=E=CLASS({init:function(e,t,n){"use strict";var o,i,r,a,s,u,c,l=n.e,d=n.el;o=function(e,t){for(var n=t.parentNode;n!==TO_DELETE;){if(n===e)return!0;n=n.parentNode}return!1},t.stopDefault=i=function(){l.preventDefault()},t.stopBubbling=r=function(){l.stopPropagation()},t.stop=a=function(){i(),r()},t.getLeft=s=function(){var e;if(INFO.checkIsTouchableDisplay()===!0){if(void 0!==l.touches&&void 0!==l.touches[0]&&(EACH(l.touches,function(t){return void 0!==t.target&&o(d,t.target)===!0?(e=t.pageX,!1):void 0}),void 0===e&&(e=l.touches[0].pageX),void 0!==e))return e;if(void 0!==l.changedTouches&&void 0!==l.changedTouches[0]&&(EACH(l.changedTouches,function(t){return void 0!==t.target&&o(d,t.target)===!0?(e=t.pageX,!1):void 0}),void 0===e&&(e=l.changedTouches[0].pageX),void 0!==e))return e}return l.pageX},t.getTop=u=function(){var e;if(INFO.checkIsTouchableDisplay()===!0){if(void 0!==l.touches&&void 0!==l.touches[0]&&(EACH(l.touches,function(t){return void 0!==t.target&&o(d,t.target)===!0?(e=t.pageY,!1):void 0}),void 0===e&&(e=l.touches[0].pageY),void 0!==e))return e;if(void 0!==l.changedTouches&&void 0!==l.changedTouches[0]&&(EACH(l.changedTouches,function(t){return void 0!==t.target&&o(d,t.target)===!0?(e=t.pageY,!1):void 0}),void 0===e&&(e=l.changedTouches[0].pageY),void 0!==e))return e}return l.pageY},t.getKeyCode=c=function(){return l.keyCode}}}),global.EMPTY_E=EMPTY_E=CLASS({init:function(e,t){"use strict";var n,o,i,r,a,s;t.stopDefault=n=function(){},t.stopBubbling=o=function(){},t.stop=i=function(){},t.getLeft=r=function(){return-999999},t.getTop=a=function(){return-999999},t.getKeyCode=s=function(){return-999999}}}),global.EVENT=EVENT=CLASS(function(e){"use strict";var t,n,o,i={};return e.fireAll=t=function(e){var t,n,o,r,a,s;return CHECK_IS_DATA(e)!==!0?n=e:(t=e.node,n=e.name),o=void 0===t?"body":t.id,r=i[o],void 0!==r&&(a=r[n],void 0!==a&&EACH(a,function(e){var t=e.fire();t===!1&&(s=!1)})),s},e.removeAll=n=function(e){var t,n,o,r,a;CHECK_IS_DATA(e)!==!0?n=e:(t=e.node,n=e.name),o=void 0===t?"body":t.id,r=i[o],void 0!==r&&(void 0!==n?(a=r[n],void 0!==a&&EACH(a,function(e){e.remove()})):EACH(r,function(e){EACH(e,function(e){e.remove()})}))},e.remove=o=function(e,t){var n,o,r,a=e.node,s=e.name;n=void 0===a?"body":a.id,o=i[n],void 0!==o&&(r=o[s],void 0!==r&&EACH(r,function(e){e.getEventHandler()===t&&e.remove()}))},{init:function(e,t,n,o){var r,a,s,u,c,l,d,g,f,E,v,h,m,p;CHECK_IS_DATA(n)!==!0?s=n:(r=n.node,a=n.lowNode,s=n.name,void 0===a&&(a=r)),u=void 0===r?"body":r.id,void 0===i[u]&&(i[u]={}),void 0===i[u][s]&&(i[u][s]=[]),i[u][s].push(t),v=function(){REMOVE({array:i[u][s],value:t}),i[u][s].length<=0&&delete i[u][s],CHECK_IS_EMPTY_DATA(i[u])===!0&&delete i[u]},"tap"===s?INFO.checkIsTouchableDisplay()===!0&&INFO.checkIsNotExistsTapDelay()!==!0?(c=EVENT_LOW({node:r,lowNode:a,name:"touchstart"},function(e){void 0!==e&&(g=e.getLeft(),f=e.getTop())}),l=EVENT_LOW({node:r,lowNode:a,name:"touchend"},function(e,t){var n,i;return void 0!==e&&(n=e.getLeft(),i=e.getTop(),n>=g-5&&g+5>=n&&i>=f-5&&f+5>=i)?(e.stopDefault(),o(e,t)):void 0}),t.remove=h=function(){c.remove(),l.remove(),v()}):(c=EVENT_LOW({node:r,lowNode:a,name:"click"},o),t.remove=h=function(){c.remove(),v()}):"doubletap"===s?(d=EVENT({node:r,name:"tap"},function(e){void 0===E?E=Date.now():(Date.now()-E<600&&o(e,r),E=void 0,getSelection().removeAllRanges())}),t.remove=h=function(){d.remove(),v()}):"touchstart"===s&&INFO.checkIsTouchableDisplay()!==!0?(c=EVENT_LOW({node:r,lowNode:a,name:"mousedown"},o),t.remove=h=function(){c.remove(),v()}):"touchmove"===s&&INFO.checkIsTouchableDisplay()!==!0?(c=EVENT_LOW({node:r,lowNode:a,name:"mousemove"},o),t.remove=h=function(){c.remove(),v()}):"touchend"===s&&INFO.checkIsTouchableDisplay()!==!0?(c=EVENT_LOW({node:r,lowNode:a,name:"mouseup"},o),t.remove=h=function(){c.remove(),v()}):"mouseover"===s&&INFO.checkIsTouchableDisplay()===!0?(c=EVENT_LOW({node:r,lowNode:a,name:"touchstart"},o),l=EVENT_LOW({node:r,lowNode:a,name:"mouseover"},o),t.remove=h=function(){c.remove(),l.remove(),v()}):"mouseout"===s&&INFO.checkIsTouchableDisplay()===!0?(c=EVENT_LOW({node:r,lowNode:a,name:"touchend"},o),l=EVENT_LOW({node:r,lowNode:a,name:"mouseout"},o),t.remove=h=function(){c.remove(),l.remove(),v()}):"attach"===s||"show"===s||"remove"===s?t.remove=h=function(){v()}:(c=EVENT_LOW(n,o),t.remove=h=function(){c.remove(),v()}),t.fire=m=function(){return o(EMPTY_E(),r)},t.getEventHandler=p=function(){return o}}}}),global.EVENT_LOW=EVENT_LOW=CLASS({init:function(e,t,n,o){"use strict";var i,r,a,s,u,c;CHECK_IS_DATA(n)!==!0?a=n:(i=n.node,r=n.lowNode,a=n.name,void 0===r&&(r=i)),s=void 0!==r?r.getWrapperEl():void 0===global["on"+a]?document:global,e.innerHandler=u=function(e){return o(E({e:e,el:s}),i)},s.addEventListener(a,u,!1),t.remove=c=function(){s.removeEventListener(a,u,!1)}}}),global.EVENT_ONCE=EVENT_ONCE=CLASS({init:function(e,t,n,o){"use strict";var i,r,a=EVENT(n,function(e,t){o(e,t),a.remove()});t.remove=i=function(){a.remove()},t.fire=r=function(){a.fire()}}}),global.ADD_STYLE=ADD_STYLE=METHOD(function(){"use strict";var e;return NEXT([function(e){document.body===TO_DELETE?EVENT({name:"load"},e):e()},function(){return function(){var t=document.createElement("div");t.style.position="fixed",t.style.top="10px",document.body.appendChild(t),e=10===t.offsetTop,document.body.removeChild(t)}}]),{run:function(t){var n=t.node,o=t.style,i=n.getWrapperEl(),r=function(e){X2.checkIsCached(e)===!0?X2.switchBG({node:n,uri:e}):EXPORT_IMG_TYPE(IMG({src:e}),function(t){("png"===t||"gif"===t||"bmp"===t)&&X2.switchBG({node:n,uri:e})})};EACH(o,function(t,o){var a,s,u;if(void 0!==t)if("onDisplayResize"===o)a=EVENT({name:"resize"},RAR(function(){ADD_STYLE({node:n,style:t(WIN_WIDTH(),WIN_HEIGHT())})})),n.on("remove",function(){a.remove()});else try{"position"===o&&"fixed"===t&&e!==!0?(i.style.position="absolute",n.__FIXED=!0,void 0===n.__FIXED_LEFT&&""!==i.style.left&&(n.__FIXED_LEFT=INTEGER(i.style.left)),void 0===n.__FIXED_RIGHT&&""!==i.style.right&&(n.__FIXED_RIGHT=INTEGER(i.style.right)),void 0===n.__FIXED_TOP&&""!==i.style.top&&(n.__FIXED_TOP=INTEGER(i.style.top)),void 0===n.__FIXED_BOTTOM&&""!==i.style.bottom&&(n.__FIXED_BOTTOM=INTEGER(i.style.bottom)),s=EVENT({name:"scroll"},RAR(u=function(){void 0!==n.__FIXED_LEFT&&(i.style.left=n.__FIXED_LEFT+SCROLL_LEFT()+"px"),void 0!==n.__FIXED_RIGHT&&(i.style.left=SCROLL_LEFT()+WIN_WIDTH()-n.getWidth()-n.__FIXED_RIGHT+"px"),void 0!==n.__FIXED_TOP&&(i.style.top=n.__FIXED_TOP+SCROLL_TOP()+"px"),void 0!==n.__FIXED_BOTTOM&&(i.style.top=SCROLL_TOP()+WIN_HEIGHT()-n.getHeight()-n.__FIXED_BOTTOM+"px")})),n.on("attach",function(){u()}),DELAY(function(){u()}),n.on("remove",function(){s.remove()})):n.__FIXED===!0&&"left"===o?(n.__FIXED_LEFT=INTEGER(t),i.style.left=t+SCROLL_LEFT()+"px"):n.__FIXED===!0&&"right"===o?(n.__FIXED_RIGHT=INTEGER(t),i.style.left=SCROLL_LEFT()+WIN_WIDTH()-n.getWidth()-n.__FIXED_RIGHT+"px"):n.__FIXED===!0&&"top"===o?(n.__FIXED_TOP=INTEGER(t),i.style.top=t+SCROLL_TOP()+"px"):n.__FIXED===!0&&"bottom"===o?(n.__FIXED_BOTTOM=INTEGER(t),i.style.top=SCROLL_TOP()+WIN_HEIGHT()-n.getHeight()-n.__FIXED_BOTTOM+"px"):"flt"===o?i.style.cssFloat=t:"number"==typeof t&&"zIndex"!==o&&"opacity"!==o?(i.style[o]=t+"px",BROWSER_CONFIG.isNotSupportingX2!==!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&("width"===o||"height"===o)&&(i.removeAttribute("width"),i.removeAttribute("height"))):"backgroundX2Image"===o?i.style.backgroundImage="url("+t+")":"backgroundImage"===o&&"none"!==t?(i.style[o]="url("+t+")",BROWSER_CONFIG.isNotSupportingX2!==!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&r(t)):(i.style[o]=t,BROWSER_CONFIG.isNotSupportingX2!==!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&(("width"===o||"height"===o)&&(i.removeAttribute("width"),i.removeAttribute("height")),"background"===o&&t.length>=7&&"url("===t.substring(0,4)&&r("'"===t.charAt(4)||'"'===t.charAt(4)?t.substring(5,t.length-2):t.substring(4,t.length-1))),"transform"===o?(i.style.WebkitTransform=t,i.style.MozTransform=t,i.style.OTransform=t,i.style.MsTransform=t):"transformOrigin"===o?(i.style.WebkitTransformOrigin=t,i.style.MozTransformOrigin=t,i.style.OTransformOrigin=t,i.style.MsTransformOrigin=t):"animation"===o?(i.style.WebkitAnimation=t,i.style.MozAnimation=t,i.style.OAnimation=t,i.style.MsAnimation=t):"touchCallout"===o?(i.style.WebkitTouchCallout=t,i.style.MozTouchCallout=t,i.style.OTouchCallout=t,i.style.MsTouchCallout=t):"userSelect"===o?(i.style.WebkitUserSelect=t,i.style.MozUserSelect=t,i.style.OUserSelect=t,i.style.MsUserSelect=t):"backgroundSize"===o?(i.style.WebkitBackgroundSize=t,i.style.MozBackgroundSize=t,i.style.OBackgroundSize=t,i.style.MsBackgroundSize=t):"backgroundPosition"===o&&(i.style.WebkitBackgroundPosition=t,i.style.MozBackgroundPosition=t,i.style.OBackgroundPosition=t,i.style.MsBackgroundPosition=t))}catch(c){}})}}}),global.RGBA=RGBA=METHOD({run:function(e){"use strict";return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"}}),global.A=A=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"a"}},init:function(e,t,n){"use strict";var o,i,r,a,s;void 0!==n&&(o=n.href,i=n.target,r=n.style),t.changeHref=a=function(t){e.setAttr({name:"href",value:t})},void 0!==o&&a(o),void 0!==i&&e.setAttr({name:"target",value:i}),(void 0===r||void 0===r.cursor)&&t.addStyle({cursor:"pointer"}),(void 0===r||void 0===r.textDecoration)&&t.addStyle({textDecoration:"underline"}),t.tap=s=function(){EVENT.fireAll({node:t,name:"tap"})}}}),global.BODY=BODY=OBJECT({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"body"}}}),global.BR=BR=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"br"}}}),global.CANVAS=CANVAS=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"canvas"}},init:function(e,t,n){"use strict";var o,i,r,a,s,u,c;void 0!==n&&(o=n.width,i=n.height),t.getContext=r=function(){return CONTEXT(t)},t.setSize=a=function(e){var n=t.getEl();void 0!==e.width&&(o=e.width),void 0!==e.height&&(i=e.height),void 0!==o&&(n.width=o),void 0!==i&&(n.height=i)},a({width:o,height:i}),t.getWidth=s=function(){return o},t.getHeight=u=function(){return i},t.getDataURL=c=function(){return t.getEl().toDataURL()}}}),global.DIV=DIV=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"div"}}}),global.FORM=FORM=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"form"}},init:function(e,t,n){"use strict";var o,i,r,a,s,u,c;void 0!==n&&(o=n.action,i=n.target,r=n.method,a=n.enctype),void 0!==o&&e.setAttr({name:"action",value:o}),void 0!==i&&e.setAttr({name:"target",value:i}),void 0!==r&&e.setAttr({name:"method",value:r}),void 0!==a&&e.setAttr({name:"enctype",value:a}),t.getData=s=function(){var e={},n=function(t){EACH(t.getChildren(),function(t){void 0!==t.getValue&&void 0!==t.getName&&void 0!==t.getName()&&(e[t.getName()]=t.getValue()),n(t)})};return n(t),e},t.setData=u=function(e){var n=function(t){EACH(t.getChildren(),function(t){var o;void 0!==t.setValue&&void 0!==t.getName&&void 0!==t.getName()&&(o=e[t.getName()],t.setValue(void 0===o?"":o)),n(t)})};n(t)},EVENT({node:t,name:"submit"},function(e){e.stop()}),t.submit=c=function(e){EVENT.fireAll({node:t,name:"submit"}),e===!0&&t.getEl().submit()}}}),global.H1=H1=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h1"}}}),global.H2=H2=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h2"}}}),global.H3=H3=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h3"}}}),global.H4=H4=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h4"}}}),global.H5=H5=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h5"}}}),global.H6=H6=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"h6"}}}),global.IFRAME=IFRAME=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"iframe",style:{border:"none"}}},init:function(e,t,n){"use strict";var o,i,r,a;void 0!==n&&(o=n.name,i=n.src),e.setAttr({name:"allowTransparency",value:!0}),e.setAttr({name:"frameBorder",value:0}),void 0!==o&&e.setAttr({name:"name",value:o}),t.setSrc=r=function(t){i=t,e.setAttr({name:"src",value:i})},void 0!==i&&r(i),t.getSrc=a=function(){return i}}}),global.IMG=IMG=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"img"}},init:function(e,t,n){"use strict";var o,i,r,a,s,u,c,l,d=n.src,g=t.getEl();t.getWidth=i=function(){return g.width},t.getHeight=r=function(){return g.height},t.setSize=a=function(e){var t=e.width,n=e.height;void 0!==t&&(g.width=t),void 0!==n&&(g.height=n)},t.getSrc=s=function(){return d},t.setX2Src=u=function(t){e.setAttr({name:"src",value:t})},t.setSrc=c=function(n){d=n,e.setAttr({name:"src",value:d}),o!==!0&&BROWSER_CONFIG.isNotSupportingX2!==!0&&void 0!==INFO.checkIsHDDisplay&&INFO.checkIsHDDisplay()===!0&&(X2.checkIsCached(d)===!0?X2.switchImg(t):EXPORT_IMG_TYPE(t,function(e){("png"===e||"gif"===e||"bmp"===e)&&(o=!0,X2.switchImg(t))}))},void 0!==d&&c(d),t.checkIsX2=l=function(){return o}}}),global.INPUT=INPUT=CLASS(function(e){"use strict";var t,n=[];return e.getFocusingInputIds=t=function(){return n},{preset:function(){return DOM},params:function(){return{tag:"input"}},init:function(e,n,o){var i,r,a,s,u,c,l,d,g,f,E,v,h,m;void 0!==o&&(i=o.name,r=o.type,a=o.placeholder,s=o.capture,u=o.accept,c=o.isMultiple),void 0!==r&&e.setAttr({name:"type",value:r}),"submit"!==r&&"reset"!==r&&(void 0!==i&&e.setAttr({name:"name",value:i}),void 0!==a&&e.setAttr({name:"placeholder",value:a}),void 0!==s&&e.setAttr({name:"capture",value:s}),void 0!==u&&e.setAttr({name:"accept",value:u}),c===!0&&e.setAttr({name:"multiple",value:c}),n.getName=l=function(){return i},n.getValue=d=function(){return"checkbox"===r?n.getEl().checked:n.getEl().value},n.select=f=function(){"file"===r?n.getEl().click():n.getEl().select()},n.focus=E=function(){n.getEl().focus()},n.blur=v=function(){n.getEl().blur()},"checkbox"===r&&(n.toggleCheck=h=function(){return n.getEl().checked=n.getEl().checked===!0?!1:!0,EVENT.fireAll({node:n,name:"change"}),n.getEl().checked},n.checkIsChecked=m=function(){return n.getEl().checked},EVENT({node:n,name:"keyup"},function(e){void 0!==e&&32===e.getKeyCode()&&DELAY(function(){EVENT.fireAll({node:n,name:"change"})})}))),n.setValue=g=function(e){"checkbox"===r?e===!0?n.getEl().checked!==!0?(n.getEl().checked=!0,EVENT.fireAll({node:n,name:"change"})):n.getEl().checked=!0:n.getEl().checked===!0?(n.getEl().checked=!1,EVENT.fireAll({node:n,name:"change"})):n.getEl().checked=!1:n.getEl().value!==e?(n.getEl().value=e,EVENT.fireAll({node:n,name:"change"})):n.getEl().value=e},EVENT({node:n,name:"focus"},function(){t().push(n.id)}),EVENT({node:n,name:"blur"},function(){REMOVE({array:t(),value:n.id})}),n.on("remove",function(){REMOVE({array:t(),value:n.id})})},afterInit:function(e,t,n){var o,i;void 0!==n&&(o=n.type,i=n.value),void 0!==i&&("checkbox"===o?t.getEl().checked=i===!0?t.getEl().checked!==!0?!0:!0:t.getEl().checked===!0?!1:!1:t.getEl().value=t.getEl().value!==i?i:i)}}}),global.LI=LI=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"li"}}}),global.OPTION=OPTION=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"option"}},init:function(e,t){"use strict";var n,o;t.getValue=n=function(){return t.getEl().value},t.setValue=o=function(e){t.getEl().value=e}},afterInit:function(e,t,n){"use strict";var o;void 0!==n&&(o=n.value),t.setValue(void 0===o?"":o)}}),global.P=P=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"p"}}}),global.SELECT=SELECT=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"select"}},init:function(e,t,n){"use strict";var o,i,r,a,s,u,c,l=!1;void 0!==n&&(o=n.name),void 0!==o&&e.setAttr({name:"name",value:o}),t.getName=i=function(){return o},t.getValue=r=function(){return t.getEl().value},t.setValue=a=function(e){t.getEl().value!==e?(t.getEl().value=e,EVENT.fireAll({node:t,name:"change"})):t.getEl().value=e},t.select=s=function(){t.getEl().select()},t.focus=u=function(){t.getEl().focus()},t.blur=c=function(){t.getEl().blur()},EVENT({node:t,name:"keydown"},function(e){var t=e.getKeyCode();91===t||17===t?l=!0:l!==!0&&e.stopBubbling()}),EVENT({node:t,name:"keyup"},function(e){var t=e.getKeyCode();(91===t||17===t)&&(l=!1)}),EVENT({node:t,name:"focus"},function(){INPUT.getFocusingInputIds().push(t.id)}),EVENT({node:t,name:"blur"},function(){REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})}),t.on("remove",function(){REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})})},afterInit:function(e,t,n){"use strict";var o;void 0!==n&&(o=n.value),void 0!==o&&t.setValue(o)}}),global.SPAN=SPAN=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"span"}}}),global.TABLE=TABLE=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"table"}}}),global.TD=TD=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"td"}},init:function(e,t,n){"use strict";var o,i;void 0!==n&&(o=n.rowspan,i=n.colspan),void 0!==o&&e.setAttr({name:"rowspan",value:o}),void 0!==i&&e.setAttr({name:"colspan",value:i})}}),global.TEXTAREA=TEXTAREA=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"textarea"}},init:function(e,t,n){"use strict";var o,i,r,a,s,u,c,l,d=!1;void 0!==n&&(o=n.name,i=n.placeholder),void 0!==o&&e.setAttr({name:"name",value:o}),void 0!==i&&e.setAttr({name:"placeholder",value:i}),t.getName=r=function(){return o},t.getValue=a=function(){return t.getEl().value},t.setValue=s=function(e){t.getEl().value!==e?(t.getEl().value=e,EVENT.fireAll({node:t,name:"change"})):t.getEl().value=e},t.select=u=function(){t.getEl().select()},t.focus=c=function(){t.getEl().focus()},t.blur=l=function(){t.getEl().blur()},EVENT({node:t,name:"keydown"},function(e){var t=e.getKeyCode();91===t||17===t?d=!0:d!==!0&&e.stopBubbling()}),EVENT({node:t,name:"keyup"},function(e){var t=e.getKeyCode();(91===t||17===t)&&(d=!1)}),EVENT({node:t,name:"focus"},function(){INPUT.getFocusingInputIds().push(t.id)}),EVENT({node:t,name:"blur"},function(){REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})}),t.on("remove",function(){REMOVE({array:INPUT.getFocusingInputIds(),value:t.id})})},afterInit:function(e,t,n){"use strict";var o;void 0!==n&&(o=n.value),void 0!==o&&t.setValue(o)}}),global.TH=TH=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"th"}},init:function(e,t,n){"use strict";var o,i;void 0!==n&&(o=n.rowspan,i=n.colspan),void 0!==o&&e.setAttr({name:"rowspan",value:o}),void 0!==i&&e.setAttr({name:"colspan",value:i})}}),global.TR=TR=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"tr"}}}),global.UL=UL=CLASS({preset:function(){"use strict";return DOM},params:function(){"use strict";return{tag:"ul"}}}),global.CHECK_IS_BLANK_PIXEL=CHECK_IS_BLANK_PIXEL=METHOD(function(){"use strict";var e={};return{run:function(t,n){var o=t.img,i=t.left,r=t.right,a=t.centerLeft,s=t.top,u=t.bottom,c=t.centerTop;EXPORT_IMG_DATA(o,function(t){var l,d,g,f,E,v,h=o.getSrc(),m=e[h];if(void 0===m){for(l=t.width,d=t.height,g=t.data,m=[],E=0;d>E;E+=1)for(m[E]=[],v=0;l>v;v+=1)m[E][v]=g[E*l*4+4*v+3]<127.5;e[h]=m}void 0!==s?f=m[INTEGER(s)]:void 0!==u?f=m[m.length-INTEGER(u)-1]:void 0!==c&&(f=m[INTEGER(m.length/2)+INTEGER(c)]),void 0!==f&&(void 0!==i?n(f[INTEGER(i)]):void 0!==r?n(f[f.length-INTEGER(r)-1]):void 0!==a&&n(f[INTEGER(f.length/2)+INTEGER(a)]))})}}}),global.CONTEXT=CONTEXT=CLASS({init:function(e,t,n){"use strict";var o,i,r,a,s,u,c,l,d,g,f=n.getEl().getContext("2d");e.getNativeContext=o=function(){return f},t.drawImg=i=function(e){var t=e.img,n=void 0===e.left?0:e.left,o=void 0===e.top?0:e.top,i=void 0!==e.clipLeft?e.clipLeft:0,r=void 0!==e.clipTop?e.clipTop:0,a=e.clipWidth,s=e.clipHeight,u=e.width,c=e.height,l=t.checkIsX2()===!0?2:1;void 0===a&&void 0===s?u>0&&c>0?f.drawImage(t.getEl(),n,o,u,c):f.drawImage(t.getEl(),n,o):(void 0===a&&(a=t.getWidth()),void 0===s&&(s=t.getHeight()),f.drawImage(t.getEl(),i*l,r*l,a*l,s*l,n,o,u,c))},t.getImgData=r=function(e){var t=void 0===e||void 0===e.left?0:e.left,o=void 0===e||void 0===e.top?0:e.top,i=void 0===e||void 0===e.width?n.getWidth():e.width,r=void 0===e||void 0===e.height?n.getHeight():e.height;return f.getImageData(t,o,i,r)},t.createImgData=a=function(e){var t=e.width,n=e.height;return f.createImageData(t,n)},t.putImgData=s=function(e){var t=e.data,n=void 0===e.left?0:e.left,o=void 0===e.top?0:e.top;f.putImageData(t,n,o)},t.setScale=u=function(e){var t=e.scaleWidth,n=e.scaleHeight;f.scale(t,n)},t.rotate=c=function(e){var t=e.centerLeft,n=e.centerTop,o=e.degree;f.translate(t,n),f.rotate(o*Math.PI/180),f.translate(-t,-n)},t.save=l=function(){f.save()},t.restore=d=function(){f.restore()},t.clear=g=function(){f.clearRect(0,0,n.getWidth(),n.getHeight())}}}),global.EXPORT_IMG_DATA=EXPORT_IMG_DATA=METHOD(function(){"use strict";var e={},t={};return{run:function(n,o){var i,r=n.getSrc(),a=e[r],s=t[r];void 0!==a?o(a):void 0!==s?s.push(o):(s=t[r]=[o],i=IMG(),i.getContentEl().crossOrigin="anonymous",i.setSrc(r),EVENT_ONCE({node:i,name:"load"},function(n,o){var i,a=o.getWidth(),u=o.getHeight(),c=CANVAS({width:a,height:u}),l=c.getContext();
l.drawImg({img:o}),i=l.getImgData(),e[r]=i,EACH(s,function(e){e(i)}),delete t[r]}))}}}),global.EXPORT_IMG_TYPE=EXPORT_IMG_TYPE=METHOD(function(){"use strict";var e={},t={};return{run:function(n,o){var i=n.getSrc(),r=e[i],a=t[i];void 0!==r?o(r):void 0!==a?a.push(o):(a=t[i]=[o],ImageInfo.loadInfo(i,function(){var n=ImageInfo.getAllFields(i).format.toLowerCase();e[i]=n,EACH(a,function(e){e(n)}),delete t[i]}))}}}),global.X2=X2=OBJECT({init:function(e,t){"use strict";var n,o,i,r,a={};t.checkIsCached=n=function(e){return void 0!==a[e]},o=function(e,t){var o=e.getSrc();n(o)===!0?t(a[o]):EXPORT_IMG_DATA(e,function(e){var n,i,r,s,u,c,l,d,g,f,E;for(i=e.width,r=e.height,s=e.data,u=CANVAS(),u.setSize({width:2*i,height:2*r}),c=u.getContext(),n=c.createImgData({width:2*i,height:2*r}),l=n.data,d=0;r>d;d+=1)for(g=0;i>g;g+=1)f=d*i*4+4*g,E=4*(4*d*i+2*g),l[E]=s[f],l[E+1]=s[f+1],l[E+2]=s[f+2],l[E+3]=s[f+3],l[E+4]=s[f],l[E+5]=s[f+1],l[E+6]=s[f+2],l[E+7]=s[f+3],E=4*(2*(2*d+1)*i+2*g),l[E]=s[f],l[E+1]=s[f+1],l[E+2]=s[f+2],l[E+3]=s[f+3],l[E+4]=s[f],l[E+5]=s[f+1],l[E+6]=s[f+2],l[E+7]=s[f+3];c.putImgData({data:n}),t(a[o]={x2DataURL:u.getDataURL(),width:i,height:r})})},t.switchImg=i=function(e){void 0!==e.getEl()&&o(e,function(t){var n,o,i;void 0!==e.getEl()&&(n=t.x2DataURL,o=e.getWidth(),i=e.getHeight(),(void 0===o||0>=o)&&(o=t.width),(void 0===i||0>=i)&&(i=t.height),void 0===e.getStyle("width")&&void 0===e.getStyle("height")&&e.setSize({width:o,height:i}),e.setX2Src(n))})},t.switchBG=r=function(e){var t=e.node,n=IMG({src:e.uri});o(n,function(e){var n=e.x2DataURL,o=t.getStyle("backgroundSize");(void 0===o||"initial"===o)&&(o=e.width+"px "+e.height+"px"),ADD_STYLE({node:t,style:{backgroundX2Image:n,backgroundSize:o}})})}}}),global.MSG=MSG=METHOD({run:function(e){"use strict";var t=e[INFO.getLang()];return void 0===t&&EACH(e,function(e){return t=e,!1}),t}}),!function(e,t){"undefined"!=typeof module&&module.exports?module.exports.browser=t():"function"==typeof define?define(t):this[e]=t()}("bowser",function(){function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}var o,i=n(/(ipod|iphone|ipad)/i).toLowerCase(),r=/like android/i.test(e),a=!r&&/android/i.test(e),s=n(/version\/(\d+(\.\d+)?)/i),u=/tablet/i.test(e),c=!u&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?o={name:"Opera",opera:t,version:s||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?o={name:"Windows Phone",windowsphone:t,msie:t,version:n(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(e)?o={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(e)?o={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:i?(o={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},s&&(o.version=s)):/sailfish/i.test(e)?o={name:"Sailfish",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?o={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(o={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(o.firefoxos=t)):/silk/i.test(e)?o={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:a?o={name:"Android",version:s}:/phantom/i.test(e)?o={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?o={name:"BlackBerry",blackberry:t,version:s||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(o={name:"WebOS",webos:t,version:s||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(o.touchpad=t)):o=/bada/i.test(e)?{name:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||s}:/safari/i.test(e)?{name:"Safari",safari:t,version:s}:{},/(apple)?webkit/i.test(e)?(o.name=o.name||"Webkit",o.webkit=t,!o.version&&s&&(o.version=s)):!o.opera&&/gecko\//i.test(e)&&(o.name=o.name||"Gecko",o.gecko=t,o.version=o.version||n(/gecko\/(\d+(\.\d+)?)/i)),a||o.silk?o.android=t:i&&(o[i]=t,o.ios=t);var l="";i?(l=n(/os (\d+([_\s]\d+)*) like mac os x/i),l=l.replace(/[_\s]/g,".")):a?l=n(/android[ \/-](\d+(\.\d+)*)/i):o.windowsphone?l=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.webos?l=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?l=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?l=n(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(l=n(/tizen[\/\s](\d+(\.\d+)*)/i)),l&&(o.osversion=l);var d=l.split(".")[0];return u||"ipad"==i||a&&(3==d||4==d&&!c)||o.silk?o.tablet=t:(c||"iphone"==i||"ipod"==i||a||o.blackberry||o.webos||o.bada)&&(o.mobile=t),o.msie&&o.version>=10||o.chrome&&o.version>=20||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6?o.a=t:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6?o.c=t:o.x=t,o}var t=!0,n=e("undefined"!=typeof navigator?navigator.userAgent:"");return n._detect=e,n});var BinaryFile=function(e,t,n){var o=e,i=t||0,r=0;this.getRawData=function(){return o},"string"==typeof e?(r=n||o.length,this.getByteAt=function(e){return 255&o.charCodeAt(e+i)}):"unknown"==typeof e&&(r=n||IEBinary_getLength(o),this.getByteAt=function(e){return IEBinary_getByteAt(o,e+i)}),this.getLength=function(){return r},this.getSByteAt=function(e){var t=this.getByteAt(e);return t>127?t-256:t},this.getShortAt=function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return 0>n&&(n+=65536),n},this.getSShortAt=function(e,t){var n=this.getShortAt(e,t);return n>32767?n-65536:n},this.getLongAt=function(e,t){var n=this.getByteAt(e),o=this.getByteAt(e+1),i=this.getByteAt(e+2),r=this.getByteAt(e+3),a=t?(((n<<8)+o<<8)+i<<8)+r:(((r<<8)+i<<8)+o<<8)+n;return 0>a&&(a+=4294967296),a},this.getSLongAt=function(e,t){var n=this.getLongAt(e,t);return n>2147483647?n-4294967296:n},this.getStringAt=function(e,t){for(var n=[],o=e,i=0;e+t>o;o++,i++)n[i]=String.fromCharCode(this.getByteAt(o));return n.join("")},this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))},this.toBase64=function(){return window.btoa(o)},this.fromBase64=function(e){o=window.atob(e)}},BinaryAjax=function(){function e(){var e=null;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}function t(t,n,o){var i=e();i?(n&&("undefined"!=typeof i.onload?i.onload=function(){"200"==i.status?n(this):o&&o(),i=null}:i.onreadystatechange=function(){4==i.readyState&&("200"==i.status?n(this):o&&o(),i=null)}),i.open("HEAD",t,!0),i.send(null)):o&&o()}function n(t,n,o,i,r){var a=e();if(a){var s=0;i&&!r&&(s=i[0]);var u=0;i&&(u=i[1]-i[0]+1),n&&("undefined"!=typeof a.onload?a.onload=function(){"200"==a.status||"206"==a.status?(this.binaryResponse=new BinaryFile(this.responseText,s,u),n(this)):o&&o(),a=null}:a.onreadystatechange=function(){4==a.readyState&&("200"==a.status||"206"==a.status?(this.binaryResponse=new BinaryFile(a.responseBody,s,u),n(this)):o&&o(),a=null)}),a.open("GET",t,!0),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),i&&r&&a.setRequestHeader("Range","bytes="+i[0]+"-"+i[1]),a.send(null)}else o&&o()}return function(e,o,i,r){r?t(e,function(){}):n(e,o,i)}}();document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n	IEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n	IEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n");var EXIF={};!function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function t(e){return!!e.exifdata}function n(e,t){BinaryAjax(e.src,function(n){var i=o(n.binaryResponse);e.exifdata=i||{},t&&t()})}function o(e){if(255!=e.getByteAt(0)||216!=e.getByteAt(1))return!1;for(var t=2,n=e.getLength();n>t;){if(255!=e.getByteAt(t))return u&&console.log("Not a valid marker at offset "+t+", found: "+e.getByteAt(t)),!1;var o=e.getByteAt(t+1);if(22400==o)return u&&console.log("Found 0xFFE1 marker"),a(e,t+4,e.getShortAt(t+2,!0)-2);if(225==o)return u&&console.log("Found 0xFFE1 marker"),a(e,t+4,e.getShortAt(t+2,!0)-2);t+=2+e.getShortAt(t+2,!0)}}function i(e,t,n,o,i){for(var a=e.getShortAt(n,i),s={},c=0;a>c;c++){var l=n+12*c+2,d=o[e.getShortAt(l,i)];!d&&u&&console.log("Unknown tag: "+e.getShortAt(l,i)),s[d]=r(e,l,t,n,i)}return s}function r(e,t,n,o,i){var r=e.getShortAt(t+2,i),a=e.getLongAt(t+4,i),s=e.getLongAt(t+8,i)+n;switch(r){case 1:case 7:if(1==a)return e.getByteAt(t+8,i);for(var u=a>4?s:t+8,c=[],l=0;a>l;l++)c[l]=e.getByteAt(u+l);return c;case 2:var d=a>4?s:t+8;return e.getStringAt(d,a-1);case 3:if(1==a)return e.getShortAt(t+8,i);for(var u=a>2?s:t+8,c=[],l=0;a>l;l++)c[l]=e.getShortAt(u+2*l,i);return c;case 4:if(1==a)return e.getLongAt(t+8,i);for(var c=[],l=0;a>l;l++)c[l]=e.getLongAt(s+4*l,i);return c;case 5:if(1==a)return e.getLongAt(s,i)/e.getLongAt(s+4,i);for(var c=[],l=0;a>l;l++)c[l]=e.getLongAt(s+8*l,i)/e.getLongAt(s+4+8*l,i);return c;case 9:if(1==a)return e.getSLongAt(t+8,i);for(var c=[],l=0;a>l;l++)c[l]=e.getSLongAt(s+4*l,i);return c;case 10:if(1==a)return e.getSLongAt(s,i)/e.getSLongAt(s+4,i);for(var c=[],l=0;a>l;l++)c[l]=e.getSLongAt(s+8*l,i)/e.getSLongAt(s+4+8*l,i);return c}}function a(e,t){if("Exif"!=e.getStringAt(t,4))return u&&console.log("Not valid EXIF data! "+e.getStringAt(t,4)),!1;var n,o=t+6;if(18761==e.getShortAt(o))n=!1;else{if(19789!=e.getShortAt(o))return u&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=e.getShortAt(o+2,n))return u&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=e.getLongAt(o+4,n))return u&&console.log("Not valid TIFF data! (First offset not 8)",e.getShortAt(o+4,n)),!1;var r=i(e,o,o+8,EXIF.TiffTags,n);if(r.ExifIFDPointer){var a=i(e,o,o+r.ExifIFDPointer,EXIF.Tags,n);for(var s in a){switch(s){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":a[s]=EXIF.StringValues[s][a[s]];break;case"ExifVersion":case"FlashpixVersion":a[s]=String.fromCharCode(a[s][0],a[s][1],a[s][2],a[s][3]);break;case"ComponentsConfiguration":a[s]=EXIF.StringValues.Components[a[s][0]]+EXIF.StringValues.Components[a[s][1]]+EXIF.StringValues.Components[a[s][2]]+EXIF.StringValues.Components[a[s][3]]}r[s]=a[s]}}if(r.GPSInfoIFDPointer){var c=i(e,o,o+r.GPSInfoIFDPointer,EXIF.GPSTags,n);for(var s in c){switch(s){case"GPSVersionID":c[s]=c[s][0]+"."+c[s][1]+"."+c[s][2]+"."+c[s][3]}r[s]=c[s]}}return r}function s(){for(var t=document.getElementsByTagName("img"),n=0;n<t.length;n++)"true"==t[n].getAttribute("exif")&&(t[n].complete?EXIF.getData(t[n]):e(t[n],"load",function(){EXIF.getData(this)}))}var u=!1;EXIF.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},EXIF.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},EXIF.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},EXIF.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},EXIF.getData=function(e,o){return e.complete?(t(e)?o&&o():n(e,o),!0):!1},EXIF.getTag=function(e,n){return t(e)?e.exifdata[n]:void 0},EXIF.pretty=function(e){if(!t(e))return"";var n=e.exifdata,o="";for(var i in n)n.hasOwnProperty(i)&&(o+="object"==typeof n[i]?i+" : ["+n[i].length+" values]\r\n":i+" : "+n[i]+"\r\n");return o},EXIF.readFromBinaryFile=function(e){return o(e)},e(window,"load",s)}();var ImageInfo={};ImageInfo.useRange=!1,ImageInfo.range=10240,function(){function e(e,n){BinaryAjax(e,function(o){var i=t(o.binaryResponse),r=o.getResponseHeader("Content-Type");i.mimeType=r,i.byteSize=o.fileSize,a[e]=i,n&&n()},null,ImageInfo.useRange?[0,ImageInfo.range]:null)}function t(e){return 255==e.getByteAt(0)&&216==e.getByteAt(1)?i(e):137!=e.getByteAt(0)&&48!=e.getByteAt(0)||"PNG"!=e.getStringAt(1,3)?"GIF"==e.getStringAt(0,3)?o(e):66==e.getByteAt(0)&&77==e.getByteAt(1)?r(e):0==e.getByteAt(0)&&0==e.getByteAt(1)?readICOInfo(e):{format:"UNKNOWN"}:n(e)}function n(e){var t=e.getLongAt(16,!0),n=e.getLongAt(20,!0),o=e.getByteAt(24),i=e.getByteAt(25),r=o;4==i&&(r*=2),2==i&&(r*=3),6==i&&(r*=4);var a=e.getByteAt(25)>=4;return{format:"PNG",version:"",width:t,height:n,bpp:r,alpha:a,exif:{}}}function o(e){var t=e.getStringAt(3,3),n=e.getShortAt(6),o=e.getShortAt(8),i=(e.getByteAt(10)>>4&7)+1;return{format:"GIF",version:t,width:n,height:o,bpp:i,alpha:!1,exif:{}}}function i(e){for(var t=0,n=0,o=0,i=e.getLength(),r=2;i>r;){var a=e.getShortAt(r,!0);if(r+=2,65472==a){n=e.getShortAt(r+3,!0),t=e.getShortAt(r+5,!0),o=e.getByteAt(r+7,!0);break}r+=e.getShortAt(r,!0)}var s={};return"undefined"!=typeof EXIF&&EXIF.readFromBinaryFile&&(s=EXIF.readFromBinaryFile(e)),{format:"JPEG",version:"",width:t,height:n,bpp:8*o,alpha:!1,exif:s}}function r(e){var t=e.getLongAt(18),n=e.getLongAt(22),o=e.getShortAt(28);return{format:"BMP",version:"",width:t,height:n,bpp:o,alpha:!1,exif:{}}}var a=[];ImageInfo.loadInfo=function(t,n){a[t]?n&&n():e(t,n)},ImageInfo.getAllFields=function(e){if(!a[e])return null;var t={};for(var n in a[e])a[e].hasOwnProperty(n)&&(t[n]=a[e][n]);return t},ImageInfo.getField=function(e,t){return a[e]?a[e][t]:null}}(),global.DELETE=DELETE=METHOD({run:function(e,t){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{uri:e},{method:"DELETE"}]),t)}}),global.GET=GET=METHOD({run:function(e,t){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{uri:e},{method:"GET"}]),t)}}),global.POST=POST=METHOD({run:function(e,t){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{uri:e},{method:"POST"}]),t)}}),global.PUT=PUT=METHOD({run:function(e,t){"use strict";REQUEST(COMBINE([CHECK_IS_DATA(e)===!0?e:{uri:e},{method:"PUT"}]),t)}}),global.REQUEST=REQUEST=METHOD({run:function(e,t){"use strict";var n,o,i,r,a,s=void 0===e.host?BROWSER_CONFIG.host:e.host,u=void 0===e.port?BROWSER_CONFIG.port:e.port,c=e.isSecure,l=e.method,d=e.uri,g=e.paramStr,f=e.data,E=e.isNotUsingLoadingBar;l=l.toUpperCase(),void 0!==d&&-1!==d.indexOf("?")&&(g=d.substring(d.indexOf("?")+1)+(void 0===g?"":"&"+g),d=d.substring(0,d.indexOf("?"))),void 0!==f&&(g=(void 0===g?"":g+"&")+"data="+encodeURIComponent(STRINGIFY(f))),g=(void 0===g?"":g+"&")+Date.now(),CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,o=t.error),i=(c===!0?"https://":"http://")+s+":"+u+"/"+(void 0===d?"":d),E!==!0&&(r=LOADING_BAR()),a=new XMLHttpRequest,a.onreadystatechange=function(){var t;4===a.readyState&&(200===a.status?n(a.responseText):(t={code:a.status},void 0!==o?o(t):console.log("[UPPERCASE.JS-REQUEST] REQUEST FAILED:",e,t)),void 0!==r&&r.done())},"GET"===l?(a.open(l,i+"?"+g),a.send()):(a.open(l,i),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(g))}}),global.GO=GO=METHOD({run:function(e){"use strict";location.href=HREF(e)}}),global.GO_NEW_WIN=GO_NEW_WIN=METHOD({run:function(e){"use strict";global.open(HREF(e))}}),global.HREF=HREF=METHOD({run:function(e){"use strict";return"#"+(void 0===e?"":e)}}),global.MATCH_VIEW=MATCH_VIEW=METHOD({run:function(e){"use strict";var t,n,o=e.uri,i=e.target,r=URI_MATCHER(o);EVENT({name:"hashchange"},RAR(function(){var e,o,a=location.hash;"#__REFRESING"!==a&&(e=r.check(a.substring(1))).checkIsMatched()===!0?(o=e.getURIParams(),void 0===t?(t=i(),t.changeParams(o),i.lastView=t,n=o):CHECK_ARE_SAME([n,o])!==!0&&(t.changeParams(o),n=o)):void 0!==t&&(t.close(),t=void 0,i.lastView=void 0)}))}}),global.REFRESH=REFRESH=METHOD({run:function(e){"use strict";var t=void 0!==e?"#"+e:location.hash;EVENT_ONCE({name:"hashchange"},function(){location.href=""===t?"#":t}),location.href="#__REFRESING"}}),global.VIEW=VIEW=CLASS({init:function(e,t){"use strict";var n,o,i,r,a,s=[],u=[];e.on=o=function(e,t){"paramsChange"===e?s.push(t):"close"===e&&u.push(t)},t.changeParams=i=function(e){EACH(s,function(t){t(e)})},t.close=r=function(){EACH(u,function(e){e()}),n=!0},e.checkIsClosed=a=function(){return n}}}),global.SCROLL_LEFT=SCROLL_LEFT=METHOD({run:function(){"use strict";return global.pageXOffset}}),global.SCROLL_TOP=SCROLL_TOP=METHOD({run:function(){"use strict";return global.pageYOffset}}),global.TITLE=TITLE=METHOD({run:function(e){"use strict";document.title=e}}),global.WIN_HEIGHT=WIN_HEIGHT=METHOD({run:function(){"use strict";return global.innerHeight}}),global.WIN_WIDTH=WIN_WIDTH=METHOD({run:function(){"use strict";return global.innerWidth}});global.BOX=BOX=METHOD(function(n){"use strict";var t,i={};return n.getBoxes=t=function(){return i},{run:function(n){var t=function(n){var i,o=n.split(".");return EACH(o,function(n){void 0===i?(void 0===t[n]&&(t[n]={}),i=t[n]):(void 0===i[n]&&(i[n]={}),i=i[n])}),i},o=n.split("."),r=global,u="";return t.boxName=n,t.type=BOX,i[n]=t,EACH(o,function(n,i){u+=(""===u?"":".")+n,i<o.length-1?r=void 0!==r[n]?r[n]:r[n]={}:r[n]=t}),FOR_BOX.inject(t),t}}});global.FOR_BOX=FOR_BOX=METHOD(function(n){"use strict";var t,u=[];return n.inject=t=function(n){EACH(u,function(t){t(n)})},{run:function(n){EACH(BOX.getBoxes(),function(t){n(t)}),u.push(n)}}});FOR_BOX(function(e){"use strict";e.STORE=CLASS({init:function(t,i,n){var o,v,a,r=STORE(e.boxName+"."+n);i.save=o=r.save,i.get=v=r.get,i.remove=a=r.remove}})});FOR_BOX(function(E){"use strict";E.DELETE=METHOD({run:function(n,t){E.REQUEST(COMBINE([n,{method:"DELETE"}]),t)}})});FOR_BOX(function(E){"use strict";E.GET=METHOD({run:function(n,t){E.REQUEST(COMBINE([n,{method:"GET"}]),t)}})});FOR_BOX(function(O){"use strict";O.POST=METHOD({run:function(n,t){O.REQUEST(COMBINE([n,{method:"POST"}]),t)}})});FOR_BOX(function(n){"use strict";n.PUT=METHOD({run:function(t,u){n.REQUEST(COMBINE([t,{method:"PUT"}]),u)}})});FOR_BOX(function(u){"use strict";u.REQUEST=METHOD({run:function(E,i){REQUEST(COMBINE([E,{uri:u.boxName+"/"+E.uri}]),i)}})});FOR_BOX(function(n){"use strict";n.GO=METHOD({run:function(t){location.href=n.HREF(t)}})});FOR_BOX(function(n){"use strict";n.GO_NEW_WIN=METHOD({run:function(o){global.open(n.HREF(o))}})});FOR_BOX(function(e){"use strict";e.HREF=METHOD({run:function(n){return HREF((e.boxName===CONFIG.defaultBoxName?"":e.boxName+"/")+(void 0===n?"":n))}})});FOR_BOX(function(t){"use strict";t.MATCH_VIEW=METHOD({run:function(u){var a=u.uri,e=u.target,n=[],r=function(u){t.boxName===CONFIG.defaultBoxName&&n.push(u),n.push(t.boxName+"/"+u)};CHECK_IS_ARRAY(a)===!0?EACH(a,r):r(a),MATCH_VIEW({uri:n,target:e})}})});FOR_BOX(function(n){"use strict";n.REFRESH=METHOD({run:function(E){EVENT_ONCE({name:"hashchange"},function(){n.GO(E)}),location.href="#__REFRESING"}})});global.CONNECT_TO_WEB_SOCKET_SERVER=CONNECT_TO_WEB_SOCKET_SERVER=METHOD({run:function(o,n){"use strict";var E,t,e,_,i,C,a,c,d,r=void 0===o.host?BROWSER_CONFIG.host:o.host,O=o.port,s={},u=0;CHECK_IS_DATA(n)!==!0?E=n:(E=n.success,t=n.error),d=function(o,n,E){var t=s[o];void 0!==t&&EACH(t,function(o){o(n,function(o){void 0!==c&&void 0!==E&&c({methodName:"__CALLBACK_"+E,data:o})})})},e=new WebSocket("ws://"+r+":"+O),e.onopen=function(){_=!0,E(C=function(o,n){var E=s[o];void 0===E&&(E=s[o]=[]),E.push(n)},a=function(o,n){var E=s[o];void 0!==E&&(void 0!==n?REMOVE({array:E,value:n}):delete s[o])},c=function(o,n){var E="__CALLBACK_"+u;o.sendKey=u,u+=1,e.send(STRINGIFY(o)),void 0!==n&&C(E,function(o){n(o),a(E)})},function(){i=!0,e.close()})},e.onmessage=function(o){var n=PARSE_STR(o.data);void 0!==n&&d(n.methodName,n.data,n.sendKey)},e.onclose=function(){i!==!0&&d("__DISCONNECTED")},e.onerror=function(o){var n=o.toString();_!==!0?void 0!==t?t(n):console.log("[UPPERCASE.IO-CONNECT_TO_WEB_SOCKET_SERVER] CONNECT TO WEB SOCKET SERVER FAILED: "+n):d("__ERROR",n)}}});FOR_BOX(function(O){"use strict";O.ROOM=CLASS({init:function(R,n,o){var E,e,t,i,_,C,N,f=O.boxName+"/"+o,u={};CONNECT_TO_ROOM_SERVER.enterRoom(f),R.getRoomName=e=function(){return f},R.checkIsExited=t=function(){return E},n.on=i=function(O,R){var n=u[O];CONNECT_TO_ROOM_SERVER.on(f+"/"+O,R),void 0===n&&(n=u[O]=[]),n.push(R)},n.off=_=function(O,R){var n=u[O];void 0!==n&&(void 0!==R?(CONNECT_TO_ROOM_SERVER.off(f+"/"+O,R),REMOVE({array:n,value:R}),0===n.length&&delete u[O]):(EACH(n,function(R){CONNECT_TO_ROOM_SERVER.off(f+"/"+O,R)}),delete u[O]))},n.send=C=function(O,R){E!==!0?CONNECT_TO_ROOM_SERVER.send({methodName:f+"/"+O.methodName,data:O.data},R):console.log(CONSOLE_RED("[UPPERCASE.IO-ROOM] `ROOM.send` ERROR! ROOM EXITED!"))},n.exit=N=function(){E!==!0&&(CONNECT_TO_ROOM_SERVER.exitRoom(f),EACH(u,function(O,R){_(R)}),u=void 0,E=!0)}}})});FOR_BOX(function(O){"use strict";OVERRIDE(O.ROOM,function(n){O.ROOM=CLASS({preset:function(){return n},init:function(O,n){var t;n.send=t=function(n,t){O.checkIsExited()!==!0?CONNECT_TO_ROOM_SERVER.send({methodName:O.getRoomName()+"/"+n.methodName,data:n.data,isNotUsingLoadingBar:n.isNotUsingLoadingBar},t):console.log(CONSOLE_RED("[UPPERCASE.IO-ROOM] `ROOM.send` ERROR! ROOM EXITED!"))}}})})});global.CONNECT_TO_ROOM_SERVER=CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var n,t,i,e,a,d,E,u,c=[],_=[],r=[];return o.enterRoom=e=function(o){c.push(o),void 0!==i&&i({methodName:"__ENTER_ROOM",data:o})},o.on=a=function(o,t){_.push({methodName:o,method:t}),void 0!==n&&n(o,t)},o.off=d=function(o,n){void 0!==t&&t(o,n),void 0!==n?REMOVE(_,function(t){return t.methodName===o&&t.method===n}):REMOVE(_,function(n){return n.methodName===o})},o.send=E=function(o,n){var t,e=o.isNotUsingLoadingBar,a=function(o){void 0!==n&&n(o),void 0!==t&&t.done()};e!==!0&&(t=LOADING_BAR()),void 0===i?r.push({params:o,callback:a}):i(o,a)},o.exitRoom=u=function(o){void 0!==i&&i({methodName:"__EXIT_ROOM",data:o}),REMOVE({array:c,value:o})},{run:function(o,e){var a,d;CHECK_IS_DATA(e)!==!0?a=e:(a=e.success,d=e.error),CONNECT_TO_WEB_SOCKET_SERVER(o,{error:d,success:function(o,e,d){n=o,t=e,i=d,EACH(c,function(o){i({methodName:"__ENTER_ROOM",data:o})}),EACH(_,function(o){n(o.methodName,o.method)}),EACH(r,function(o){i(o.params,o.callback)}),r=void 0,void 0!==a&&a(o,e,d),o("__DISCONNECTED",function(){n=void 0,t=void 0,i=void 0,r=[]})}})}}});FOR_BOX(function(i){"use strict";i.MODEL=CLASS({init:function(){}})});FOR_BOX(function(o){"use strict";o.MODEL=CLASS({init:function(e,t,n){var i,r,d,c,a,u,v,E,s,O,A,f,C,R,m,N,l,g,D,x,I,P,M,h,S,T,U=n.name,H=n.initData,L=n.methodConfig,b=n.isNotUsingObjectId,_=o.ROOM(U);void 0!==L&&(i=L.create,r=L.get,d=L.update,c=L.remove,a=L.find,u=L.count,v=L.checkIsExists,void 0!==i&&(E=i.valid),void 0!==d&&(s=d.valid)),t.getName=O=function(){return U},e.getInitData=A=function(){return H},e.getCreateValid=f=function(){return E},e.getUpdateValid=C=function(){return s},t.getRoom=R=function(){return _},i!==!1&&(t.create=m=function(e,t){var n,i,r,d,c;void 0!==t&&(CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notValid,r=t.notAuthed,d=t.error)),void 0!==H&&EACH(H,function(o,t){e[t]=o}),void 0!==E&&(c=E.check(e)),void 0!==c&&c.checkHasError()===!0?void 0!==i?i(c.getErrors()):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/create` NOT VALID!: ",c.getErrors()):_.send({methodName:"create",data:e},function(e){var t,c,a,u;void 0!==e?(t=e.errorMsg,c=e.validErrors,a=e.isNotAuthed,u=e.savedData,void 0!==t?void 0!==d?d(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/create` ERROR: "+t):void 0!==c?void 0!==i?i(c):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/create` NOT VALID!: ",c):a===!0?void 0!==r?r():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/create` NOT AUTHED!"):void 0!==n&&n(u)):void 0!==n&&n()})}),r!==!1&&(t.get=N=function(e,t){var n,i,r,d;CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notExists,r=t.notAuthed,d=t.error),_.send({methodName:"get",data:e},function(e){var t,c,a;void 0!==e&&(t=e.errorMsg,c=e.isNotAuthed,a=e.savedData),void 0!==t?void 0!==d?d(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/get` ERROR: "+t):c===!0?void 0!==r?r():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/get` NOT AUTHED!"):void 0===a?void 0!==i?i():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/get` NOT EXISTS!"):void 0!==n&&n(a)})},t.getWatching=l=function(e,n){var i,r,d,c,a,u;return CHECK_IS_DATA(n)!==!0?i=n:(i=n.success,r=n.notExists,d=n.notAuthed,c=n.error),t.get(e,{success:function(e){var t;a!==!0&&void 0!==i&&(u=o.ROOM(U+"/"+e.id),i(e,function(o){u.on("update",o)},function(o){u.on("remove",function(e){o(e),t()})},t=function(){void 0!==u&&(u.exit(),u=void 0)}))},notExists:r,notAuthed:d,error:c}),OBJECT({init:function(o,e){var t;e.exit=t=function(){void 0!==u&&u.exit(),a=!0}}})}),d!==!1&&(t.update=g=function(e,t){var n,i,r,d,c,a,u=e.id;void 0!==t&&(CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notValid,r=t.notExists,d=t.notAuthed,c=t.error)),void 0!==s&&(a=s.checkExceptUndefined(e)),e.id=u,void 0!==s&&a.checkHasError()===!0?void 0!==i?i(a.getErrors()):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/update` NOT VALID!: ",a.getErrors()):_.send({methodName:"update",data:e},function(e){var t,a,u,v;void 0!==e&&(t=e.errorMsg,a=e.validErrors,u=e.isNotAuthed,v=e.savedData),void 0!==t?void 0!==c?c(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/update` ERROR: "+t):void 0!==a?void 0!==i?i(a):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/update` NOT VALID!: ",a):u===!0?void 0!==d?d():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/update` NOT AUTHED!"):void 0===v?void 0!==r?r():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/update` NOT EXISTS!"):void 0!==n&&n(v)})}),c!==!1&&b!==!0&&(t.remove=D=function(e,t){var n,i,r,d;void 0!==t&&(CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notExists,r=t.notAuthed,d=t.error)),_.send({methodName:"remove",data:e},function(e){var t,c,a;void 0!==e&&(t=e.errorMsg,c=e.isNotAuthed,a=e.savedData),void 0!==t?void 0!==d?d(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/remove` ERROR: "+t):c===!0?void 0!==r?r():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/remove` NOT AUTHED!"):void 0===a?void 0!==i?i():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/remove` NOT EXISTS!"):void 0!==n&&n(a)})}),a!==!1&&(t.find=x=function(e,t){var n,i,r;void 0===t&&(t=e,e=void 0),CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notAuthed,r=t.error),_.send({methodName:"find",data:e},function(e){var t=e.errorMsg,d=e.isNotAuthed,c=e.savedDataSet;void 0!==t?void 0!==r?r(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/find` ERROR: "+t):d===!0?void 0!==i?i():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/find` NOT AUTHED!"):void 0!==n&&n(c)})},t.findWatching=I=function(e,n){var i,r,d,c,a={};return void 0===n&&(n=e,e=void 0),CHECK_IS_DATA(n)!==!0?i=n:(i=n.success,r=n.notAuthed,d=n.error),t.find(e,{success:function(e){var t;c!==!0&&void 0!==i&&(EACH(e,function(e){var t=e.id;a[t]=o.ROOM(U+"/"+t)}),i(e,function(o,e){a[o].on("update",e)},function(o,e){a[o].on("remove",function(n){e(n),t(o)})},t=function(o){void 0!==a[o]&&(a[o].exit(),delete a[o])}))},notAuthed:r,error:d}),OBJECT({init:function(o,e){var t;e.exit=t=function(){EACH(a,function(o){o.exit()}),c=!0}}})}),u!==!1&&(t.count=P=function(e,t){var n,i,r;void 0===t&&(t=e,e=void 0),CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notAuthed,r=t.error),_.send({methodName:"count",data:e},function(e){var t=e.errorMsg,d=e.isNotAuthed,c=e.count;void 0!==t?void 0!==r?r(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/count` ERROR: "+t):d===!0?void 0!==i?i():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/count` NOT AUTHED!"):void 0!==n&&n(c)})}),v!==!1&&(t.checkIsExists=M=function(e,t){var n,i,r;void 0===t&&(t=e,e=void 0),CHECK_IS_DATA(t)!==!0?n=t:(n=t.success,i=t.notAuthed,r=t.error),_.send({methodName:"checkIsExists",data:e},function(e){var t=e.errorMsg,d=e.isNotAuthed,c=e.isExists;void 0!==t?void 0!==r?r(t):console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/checkIsExists` ERROR: "+t):d===!0?void 0!==i?i():console.log("[UPPERCASE.IO-MODEL] `"+o.boxName+"."+U+"/checkIsExists` NOT AUTHED!"):void 0!==n&&n(c)})}),t.onNew=h=function(e,t){var n;return void 0===t?(t=e,(n=o.ROOM(U+"/create")).on("create",t)):EACH(e,function(i,r){return(n=o.ROOM(U+"/"+r+"/"+i+"/create")).on("create",function(o){EACH(e,function(e,t){return o[t]!==e?!1:void 0})===!0&&t(o)}),!1}),OBJECT({init:function(o,e){var t;e.exit=t=function(){n.exit()}}})},t.onNewWatching=S=function(e,t){var n,i=[],r=function(e){var n,r,d=e.id;i.push(n=o.ROOM(U+"/"+d)),t(e,function(o){n.on("update",o)},function(o){n.on("remove",function(e){o(e),r()})},r=function(){n.exit(),REMOVE({array:i,value:n})})};return void 0===t?(t=e,(n=o.ROOM(U+"/create")).on("create",function(o){r(o)})):EACH(e,function(t,i){return(n=o.ROOM(U+"/"+i+"/"+t+"/create")).on("create",function(o){EACH(e,function(e,t){return o[t]!==e?!1:void 0})===!0&&r(o)}),!1}),OBJECT({init:function(o,e){var t;e.exit=t=function(){n.exit(),EACH(i,function(o){o.exit()})}}})},t.onRemove=T=function(e,t){var n,i=function(o){o.id;t(o)};return void 0===t?(t=e,(n=o.ROOM(U+"/remove")).on("remove",i)):EACH(e,function(t,r){return(n=o.ROOM(U+"/"+r+"/"+t+"/remove")).on("remove",function(o){EACH(e,function(e,t){return o[t]!==e?!1:void 0})===!0&&i(o)}),!1}),OBJECT({init:function(o,e){var t;e.exit=t=function(){n.exit()}}})}}})});FOR_BOX(function(n){"use strict";n.R=METHOD({run:function(r,i){var o=n.boxName+"/"+r+"?version="+CONFIG.version;return void 0!==i&&GET(o,i),"/"+o}})});FOR_BOX(function(n){"use strict";n.RF=METHOD({run:function(t){return"/__RF/"+n.boxName+"/"+t}})});global.CONNECT_TO_IO_SERVER=CONNECT_TO_IO_SERVER=METHOD({run:function(_){"use strict";var E,O;CHECK_IS_DATA(_)!==!0?E=_:(E=_.success,O=_.error),GET({host:BROWSER_CONFIG.host,port:BROWSER_CONFIG.port,uri:"__WEB_SOCKET_SERVER_HOST",paramStr:"defaultHost="+BROWSER_CONFIG.host},{error:O,success:function(_){CONNECT_TO_ROOM_SERVER({host:_,port:CONFIG.webServerPort,fixRequestURI:"__WEB_SOCKET_FIX"},E)}})}});