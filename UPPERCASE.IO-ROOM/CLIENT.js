FOR_BOX(function(O){"use strict";O.ROOM=CLASS({init:function(R,n,o){var E,e,t,i,_,C,N,f=O.boxName+"/"+o,u={};CONNECT_TO_ROOM_SERVER.enterRoom(f),R.getRoomName=e=function(){return f},R.checkIsExited=t=function(){return E},n.on=i=function(O,R){var n=u[O];CONNECT_TO_ROOM_SERVER.on(f+"/"+O,R),void 0===n&&(n=u[O]=[]),n.push(R)},n.off=_=function(O,R){var n=u[O];void 0!==n&&(void 0!==R?(CONNECT_TO_ROOM_SERVER.off(f+"/"+O,R),REMOVE({array:n,value:R}),0===n.length&&delete u[O]):(EACH(n,function(R){CONNECT_TO_ROOM_SERVER.off(f+"/"+O,R)}),delete u[O]))},n.send=C=function(O,R){E!==!0?CONNECT_TO_ROOM_SERVER.send({methodName:f+"/"+O.methodName,data:O.data},R):console.log(CONSOLE_RED("[UPPERCASE.IO-ROOM] `ROOM.send` ERROR! ROOM EXITED!"))},n.exit=N=function(){E!==!0&&(CONNECT_TO_ROOM_SERVER.exitRoom(f),EACH(u,function(O,R){_(R)}),u=void 0,E=!0)}}})});