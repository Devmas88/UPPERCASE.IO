global.CONNECT_TO_ROOM_SERVER=CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var n,t,i,e,a,d,E,u,c=[],_=[],r=[];return o.enterRoom=e=function(o){c.push(o),void 0!==i&&i({methodName:"__ENTER_ROOM",data:o})},o.on=a=function(o,t){_.push({methodName:o,method:t}),void 0!==n&&n(o,t)},o.off=d=function(o,n){void 0!==t&&t(o,n),void 0!==n?REMOVE(_,function(t){return t.methodName===o&&t.method===n}):REMOVE(_,function(n){return n.methodName===o})},o.send=E=function(o,n){var t,e=o.isNotUsingLoadingBar,a=function(o){void 0!==n&&n(o),void 0!==t&&t.done()};e!==!0&&(t=LOADING_BAR()),void 0===i?r.push({params:o,callback:a}):i(o,a)},o.exitRoom=u=function(o){void 0!==i&&i({methodName:"__EXIT_ROOM",data:o}),REMOVE({array:c,value:o})},{run:function(o,e){var a,d;CHECK_IS_DATA(e)!==!0?a=e:(a=e.success,d=e.error),CONNECT_TO_WEB_SOCKET_SERVER(o,{error:d,success:function(o,e,d){n=o,t=e,i=d,EACH(c,function(o){i({methodName:"__ENTER_ROOM",data:o})}),EACH(_,function(o){n(o.methodName,o.method)}),EACH(r,function(o){i(o.params,o.callback)}),r=void 0,void 0!==a&&a(o,e,d),o("__DISCONNECTED",function(){n=void 0,t=void 0,i=void 0,r=[]})}})}}});