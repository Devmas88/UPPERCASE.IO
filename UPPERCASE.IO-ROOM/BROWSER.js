FOR_BOX(function(o){"use strict";OVERRIDE(o.ROOM,function(n){o.ROOM=CLASS({preset:function(){return n},init:function(o,n){var t;n.send=t=function(n,t){o.checkIsExited()!==!0?CONNECT_TO_ROOM_SERVER.send({methodName:o.getRoomName()+"/"+n.methodName,data:n.data,isNotUsingLoadingBar:n.isNotUsingLoadingBar},t):console.log(CONSOLE_RED("[UPPERCASE.IO-ROOM] `ROOM.send` ERROR! ROOM EXITED!"))}}})})}),global.CONNECT_TO_ROOM_SERVER=CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var n,t,i,e,O,a,E,d,R=[],c=[],u=[];return o.enterRoom=e=function(o){R.push(o),void 0!==i&&i({methodName:"__ENTER_ROOM",data:o})},o.on=O=function(o,t){c.push({methodName:o,method:t}),void 0!==n&&n(o,t)},o.off=a=function(o,n){void 0!==t&&t(o,n),void 0!==n?REMOVE(c,function(t){return t.methodName===o&&t.method===n}):REMOVE(c,function(n){return n.methodName===o})},o.send=E=function(o,n){var t,e=o.isNotUsingLoadingBar,O=function(o){void 0!==n&&n(o),void 0!==t&&t.done()};e!==!0&&(t=LOADING_BAR()),void 0===i?u.push({params:o,callback:O}):i(o,O)},o.exitRoom=d=function(o){void 0!==i&&i({methodName:"__EXIT_ROOM",data:o}),REMOVE({array:R,value:o})},{run:function(o,e){var O,a;CHECK_IS_DATA(e)!==!0?O=e:(O=e.success,a=e.error),CONNECT_TO_WEB_SOCKET_SERVER(o,{error:a,success:function(o,e,a){n=o,t=e,i=a,EACH(R,function(o){i({methodName:"__ENTER_ROOM",data:o})}),EACH(c,function(o){n(o.methodName,o.method)}),EACH(u,function(o){i(o.params,o.callback)}),u=void 0,void 0!==O&&O(o,e,a),o("__DISCONNECTED",function(){n=void 0,t=void 0,i=void 0,u=[]})}})}}});