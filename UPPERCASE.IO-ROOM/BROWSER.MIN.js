FOR_BOX(function(O){"use strict";OVERRIDE(O.ROOM,function(R){O.ROOM=CLASS({preset:function(){return R},init:function(O,R){var e;R.send=e=function(R,e){O.checkIsExited()!==!0?CONNECT_TO_ROOM_SERVER.send({methodName:O.getRoomName()+"/"+R.methodName,data:R.data},e):console.log(CONSOLE_RED("[UPPERCASE.IO-ROOM] `ROOM.send` ERROR! ROOM EXITED!"))}}})})});global.CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var n,t,e,i,a,c,u,d,E,r=[],m=[],_=[],O=!1;return o.checkIsConnected=n=function(){return O},o.enterRoom=a=function(o){r.push(o),void 0!==i&&i({methodName:"__ENTER_ROOM",data:o})},o.on=c=function(o,n){m.push({methodName:o,method:n}),void 0!==t&&t(o,n)},o.off=u=function(o,n){void 0!==e&&e(o,n),void 0!==n?REMOVE(m,function(t){return t.methodName===o&&t.method===n}):REMOVE(m,function(n){return n.methodName===o})},o.send=d=function(o,n){void 0===i?_.push({params:o,callback:n}):i(o,n)},o.exitRoom=E=function(o){void 0!==i&&i({methodName:"__EXIT_ROOM",data:o}),REMOVE({array:r,value:o})},{run:function(o,n){var a,c;CHECK_IS_DATA(n)!==!0?a=n:(a=n.success,c=n.error),CONNECT_TO_WEB_SOCKET_SERVER(o,{error:c,success:function(o,n,c){t=o,e=n,i=c,EACH(r,function(o){i({methodName:"__ENTER_ROOM",data:o})}),EACH(m,function(o){t(o.methodName,o.method)}),EACH(_,function(o){i(o.params,o.callback)}),_=void 0,void 0!==a&&a(o,n,c),O=!0,o("__DISCONNECTED",function(){t=void 0,e=void 0,i=void 0,_=[],O=!1})}})}}});