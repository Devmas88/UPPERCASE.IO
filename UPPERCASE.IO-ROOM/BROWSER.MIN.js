FOR_BOX(function(O){"use strict";OVERRIDE(O.ROOM,function(n){O.ROOM=CLASS({preset:function(){return n},init:function(O,n){var t;n.send=t=function(n,t){O.checkIsExited()!==!0?CONNECT_TO_ROOM_SERVER.send({methodName:O.getRoomName()+"/"+n.methodName,data:n.data,isNotUsingLoadingBar:n.isNotUsingLoadingBar},t):console.log(CONSOLE_RED("[UPPERCASE.IO-ROOM] `ROOM.send` ERROR! ROOM EXITED!"))}}})})});global.CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var n,t,i,e,a,d,u,E,c=[],r=[],m=[];return o.enterRoom=e=function(o){c.push(o),void 0!==i&&i({methodName:"__ENTER_ROOM",data:o})},o.on=a=function(o,t){r.push({methodName:o,method:t}),void 0!==n&&n(o,t)},o.off=d=function(o,n){void 0!==t&&t(o,n),void 0!==n?REMOVE(r,function(t){return t.methodName===o&&t.method===n}):REMOVE(r,function(n){return n.methodName===o})},o.send=u=function(o,n){var t,e=o.isNotUsingLoadingBar,a=function(o){void 0!==n&&n(o),void 0!==t&&t.done()};e!==!0&&(t=LOADING_BAR()),void 0===i?m.push({params:o,callback:a}):i(o,a)},o.exitRoom=E=function(o){void 0!==i&&i({methodName:"__EXIT_ROOM",data:o}),REMOVE({array:c,value:o})},{run:function(o,e){var a,d;CHECK_IS_DATA(e)!==!0?a=e:(a=e.success,d=e.error),CONNECT_TO_WEB_SOCKET_SERVER(o,{error:d,success:function(o,e,d){n=o,t=e,i=d,EACH(c,function(o){i({methodName:"__ENTER_ROOM",data:o})}),EACH(r,function(o){n(o.methodName,o.method)}),EACH(m,function(o){i(o.params,o.callback)}),m=void 0,void 0!==a&&a(o,e,d),o("__DISCONNECTED",function(){n=void 0,t=void 0,i=void 0,m=[]})}})}}});