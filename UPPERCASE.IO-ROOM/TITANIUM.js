global.CONNECT_TO_ROOM_SERVER=CONNECT_TO_ROOM_SERVER=METHOD(function(o){"use strict";var t,e,n,r,E,a,i,c,u=[],_=[],d=[];return o.enterRoom=r=function(o){u.push(o),void 0!==n&&n({methodName:"__ENTER_ROOM",data:o})},o.on=E=function(o,e){_.push({methodName:o,method:e}),void 0!==t&&t(o,e)},o.off=a=function(o,t){void 0!==e&&e(o,t),void 0!==t?REMOVE(_,function(e){return e.methodName===o&&e.method===t}):REMOVE(_,function(t){return t.methodName===o})},o.send=i=function(o,t){void 0===n?d.push({params:o,callback:t}):n(o,t)},o.exitRoom=c=function(o){void 0!==n&&n({methodName:"__EXIT_ROOM",data:o}),REMOVE({array:u,value:o})},{run:function(o,r){var E,a,i;CHECK_IS_DATA(r)!==!0?E=r:(E=r.success,a=r.error),i=function(o,r,a){t=o,e=r,n=a,EACH(u,function(o){n({methodName:"__ENTER_ROOM",data:o})}),EACH(_,function(o){t(o.methodName,o.method)}),EACH(d,function(o){n(o.params,o.callback)}),d=void 0,void 0!==E&&E(o,r,a),o("__DISCONNECTED",function(){t=void 0,e=void 0,n=void 0,d=[]})},"mobileweb"===Ti.Platform.name?CONNECT_TO_WEB_SOCKET_SERVER({host:o.host,port:o.webSocketServerPort},{error:a,success:i}):CONNECT_TO_SOCKET_SERVER({host:o.host,port:o.socketServerPort},{error:a,success:i})}}});